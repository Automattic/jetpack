/**
 * External dependencies
 */
import { _x } from '@wordpress/i18n';
import { createBlock } from '@wordpress/blocks';

/**
 * Internal dependencies
 */
import edit from './edit';
import './editor.scss';

export const name = 'crowdsignal-embed';

export const icon = (
	<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 138 98">
		<path d="M0.090015744,52.4738525 L0.090015744,13.3408025 C0.090015744,8.849401 0.22494434,6.04798869 0.494801532,4.84733869 C0.764975457,3.64668869 1.30468984,2.49049562 2.65429253,1.55658715 C4.22909295,0.400394077 6.29831482,0.000281769231 11.5171375,0.000281769231 C15.9260719,0.000281769231 18.3104439,0.622678692 19.525118,1.68995792 C20.7847683,2.80169408 21.5047042,4.93625254 21.5047042,8.00471946 L21.5047042,16.2758987 L18.2654677,17.5654625 L18.2654677,7.91580562 C18.2654677,5.69233331 17.9956105,4.58059715 17.140746,3.82451638 C16.3308577,3.06843562 14.8463264,2.846151 11.3822089,2.846151 C6.92829834,2.846151 5.80357664,3.20180638 4.85875973,3.86897331 C3.64408564,4.75842485 3.32925225,6.49255792 3.32925225,9.82776638 L3.32925225,55.4089487 C3.32925225,58.7441572 3.64408564,60.4782902 4.85875973,61.3677418 C5.80357664,62.0349087 7.82813904,62.3905641 11.3822089,62.3905641 C14.8463264,62.3905641 16.3308577,62.1682795 17.140746,61.4121987 C17.9956105,60.6561179 18.2654677,59.5443818 18.2654677,57.3209095 L18.2654677,47.0040856 L21.5047042,45.7145218 L21.5047042,57.2319956 C21.5047042,60.3449195 20.7847683,62.435021 19.525118,63.5467572 C18.3104439,64.6140364 15.9260719,65.2364333 11.5171375,65.2364333 C7.19815553,65.2364333 4.22909295,64.836321 2.65429253,63.7245848 C1.30468984,62.7462195 0.764975457,61.6344833 0.494801532,60.3893764 C0.22494434,59.2776402 0.090015744,56.6095987 0.090015744,52.4738525" id="Fill-1" fill="#4CCEE4"></path>
		<path d="M38.9152124,24.9918663 L30.0073912,24.9918663 L30.0073912,3.02419785 L40.0849103,3.02419785 C42.2893775,3.02419785 43.818885,3.33539631 44.4938447,4.135934 C45.0785353,4.84724477 45.4836378,6.22572246 45.4836378,8.36028092 L45.4836378,20.1892663 C45.4836378,21.9678563 44.9436067,23.1685063 44.1340351,23.8801302 C43.2341944,24.6362109 41.434513,24.9918663 38.9152124,24.9918663 M47.688105,24.3691563 C48.2727956,23.5244748 48.7228743,22.145684 48.7228743,20.2337232 L48.7228743,7.60451323 C48.7228743,5.02507246 47.9579622,3.15756862 46.7882643,2.04583246 C45.528614,0.800412462 43.1892182,0.178015538 40.0399341,0.178015538 L26.7681547,0.178015538 L26.7681547,60.7452509 L30.0073912,59.4556871 L30.0073912,27.8380486 L40.4447199,27.8380486 C43.4140992,27.8380486 44.9436067,29.4832678 44.9436067,32.8629332 L44.9436067,53.7188655 L48.1828432,52.4293017 L48.1828432,32.1068525 C48.1828432,28.5938163 46.6533357,26.7263125 43.5490278,26.5037148 L43.5490278,26.4148009 C45.528614,26.1036025 46.9681691,25.4364355 47.688105,24.3691563" id="Fill-3" fill="#4CCEE4"></path>
		<path d="M70.4973407,35.3532097 C70.4973407,38.3327628 70.2274835,40.0224389 69.147738,40.9563474 C68.1579449,41.801342 66.4931921,42.0236266 63.7490105,42.0236266 C61.0045122,42.0236266 59.3400761,41.801342 58.350283,40.9563474 C57.2705375,40.0224389 57.0006803,38.3327628 57.0006803,35.3532097 L57.0006803,9.51653662 C57.0006803,6.53729662 57.2705375,4.84730738 58.350283,3.91339892 C59.3400761,3.06840431 61.0045122,2.84611969 63.7490105,2.84611969 C66.4931921,2.84611969 68.1579449,3.06840431 69.147738,3.91339892 C70.2274835,4.84730738 70.4973407,6.53729662 70.4973407,9.51653662 L70.4973407,35.3532097 Z M71.6670386,1.82329738 C70.0026025,0.355905846 67.2581042,0.000250461538 63.7490105,0.000250461538 C60.2399168,0.000250461538 57.4954185,0.355905846 55.8309824,1.82329738 C54.3914274,3.02394738 53.7614438,5.02513508 53.7614438,8.31588662 L53.7614438,36.5538597 C53.7614438,39.8446112 54.3914274,41.8457989 55.8309824,43.0464489 C57.4954185,44.5138405 60.2399168,44.8694958 63.7490105,44.8694958 C67.2581042,44.8694958 70.0026025,44.5138405 71.6670386,43.0464489 C73.1065937,41.8457989 73.7365772,39.8446112 73.7365772,36.5538597 L73.7365772,8.31588662 C73.7365772,5.02513508 73.1065937,3.02394738 71.6670386,1.82329738 Z" id="Fill-5" fill="#4CCEE4"></path>
		<polygon id="Fill-7" fill="#4CCEE4" points="86.198405 37.7100841 76.660917 0.178109462 80.0800583 0.178109462 88.3129198 33.0853118 96.4108527 0.178109462 101.49443 0.178109462 109.142601 25.7477279 116.070836 0.178109462 119.400025 0.178109462 111.751854 27.8378295 106.848181 29.7056464 99.0201057 3.11289254 90.8322204 35.8867241"></polygon>
		<path d="M129.432504,17.6989272 L125.338403,17.6989272 L125.338403,3.02407262 L129.432504,3.02407262 C133.166479,3.02407262 134.336177,4.580378 134.336177,10.3613434 C134.336177,16.0978518 133.166479,17.6989272 129.432504,17.6989272 M128.712568,0.177890308 L122.054507,0.177890308 L122.054507,20.5451095 L128.712568,20.5451095 C135.955954,20.5451095 137.440485,17.6989272 137.440485,10.3613434 C137.440485,2.97961569 135.955954,0.177890308 128.712568,0.177890308" id="Fill-9" fill="#4CCEE4"></path>
		<polygon id="Fill-11" fill="#384869" points="29.9703651 66.7666281 33.1646254 65.5215212 33.1646254 97.3745935 29.9703651 97.3745935"></polygon>
		<path d="M103.178884,71.3498864 L107.992604,43.6901664 L112.761348,71.3498864 L103.178884,71.3498864 Z M109.842963,36.0385664 L106.271789,37.4505433 L95.2035268,97.5328225 L98.7161046,97.5378318 L102.684146,74.1960687 L113.256403,74.1960687 L117.374259,97.5378318 L120.894438,97.5378318 L109.842963,36.0385664 Z" id="Fill-13" fill="#384869"></path>
		<polygon id="Fill-15" fill="#384869" points="129.659634 94.6870159 129.659634 39.0169298 129.659634 38.3112544 129.659634 28.3842113 126.330445 29.6737752 126.330445 38.3112544 126.330445 39.0169298 126.330445 97.5328852 137.534586 97.5328852 137.534586 94.6870159"></polygon>
		<polygon id="Fill-18" fill="#384869" points="86.8322843 44.8254772 87.0704681 75.4359472 87.1892433 93.2443888 80.5292818 77.9681134 70.1131743 51.5459865 65.1645255 53.5024042 65.1645255 77.9681134 65.1645255 78.1262172 65.1645255 97.4800065 68.403762 97.4800065 68.403762 78.1262172 68.403762 77.9681134 68.403762 55.8151034 76.9273851 77.9681134 85.4038149 97.4800065 90.0461821 97.4800065 90.0461821 75.4359472 90.0461821 43.7666511"></polygon>
		<path d="M17.6635785,84.6711529 L17.6635785,84.6702137 C16.8255009,84.6699006 15.9883735,84.6699006 15.1515628,84.6699006 L15.1515628,84.6695875 C11.1651513,84.6695875 11.0204039,84.6695875 10.8766068,84.6695875 C9.56501214,84.6695875 8.37440982,84.6689614 7.09987303,84.6689614 C4.09628647,84.6620737 2.9690309,84.4689052 2.9690309,81.2899222 C2.9690309,78.7715314 3.84670024,78.3028552 7.09987303,78.269356 C8.49571886,78.2687298 9.89219815,78.2677906 14.8313449,78.2674775 C15.7644427,78.2668514 16.7057755,78.2668514 17.6635785,78.2665383 C20.9047154,78.2753045 21.7516616,79.1237429 21.7516616,81.5566637 L21.7516616,81.9126322 L24.450867,80.8453529 C24.185444,77.0878037 22.8304569,75.5646845 17.6635785,75.5120875 L17.6635785,75.5105222 C16.7108433,75.5102091 15.7843969,75.5092698 14.8313449,75.5089568 C11.1648345,75.5089568 11.0223043,75.5089568 10.8766068,75.5089568 C9.58496637,75.5089568 8.33260096,75.509896 7.05521357,75.5105222 L7.05521357,75.5108352 C2.4815776,75.5484045 -3.16733793e-05,76.7114852 -3.16733793e-05,82.0460029 C-3.16733793e-05,87.3767637 3.50399428,87.4274822 7.05521357,87.426856 L14.6713944,87.426856 L15.1515628,87.426856 C15.9814053,87.426856 16.7415664,87.4277952 17.5565225,87.4281083 C20.6145873,87.4428229 21.9315664,88.0057352 21.9315664,91.2952345 C21.9315664,93.9579537 21.249005,94.7102775 17.5565225,94.7591175 C16.583833,94.7597437 15.6301475,94.7606829 14.6713944,94.7613091 C9.86971005,94.7625614 8.502687,94.7635006 7.05521357,94.7638137 L7.05521357,94.7641268 C3.77733554,94.7622483 2.69917371,93.6943429 2.69917371,90.8062083 L2.69917371,90.4505529 L-3.16733793e-05,91.5178322 C0.266024713,95.7240206 1.84557614,97.4678591 7.05521357,97.5182645 L7.05521357,97.5192037 C8.33608503,97.5198298 9.57451416,97.5210822 10.8766068,97.5210822 C11.0219876,97.5210822 11.1648345,97.5210822 14.9916122,97.5210822 L14.9916122,97.5207691 C15.8867019,97.520456 16.7678553,97.5198298 17.6635785,97.5195168 L17.6635785,97.5176383 C22.642317,97.4612845 24.9009457,95.8661575 24.9009457,90.5394668 C24.9009457,85.2074537 21.2242998,84.6933814 17.6635785,84.6711529" id="Fill-20" fill="#384869"></path>
		<path d="M59.0407944,67.9768895 L59.0407944,66.5968465 C59.0407944,62.4567172 56.728321,61.2923842 51.6672317,61.2923842 C51.4854265,61.2923842 51.3071054,61.2942626 51.1303679,61.2967672 C50.3904778,61.2980195 49.6616733,61.3005242 48.9360362,61.3030288 L48.9360362,61.3033418 C46.0642109,61.3033418 45.9862944,61.3036549 45.9112285,61.303968 C41.6299378,61.4147972 38.9852106,62.4567172 38.9852106,67.5886742 L38.9852106,70.9714703 L38.9852106,82.0315388 L38.9852106,88.8663211 L38.9852106,89.2088272 L38.9852106,91.6990411 C38.9852106,95.3551534 40.569513,97.3672988 45.9112285,97.5103749 C45.9866111,97.5103749 46.0638941,97.510688 48.9360362,97.5110011 C49.6600896,97.5138188 50.3831929,97.5169495 51.1303679,97.5182018 C51.221904,97.5191411 51.3118564,97.5210195 51.4056096,97.5210195 C56.379597,97.5210195 59.0407944,96.4863003 59.0407944,91.4836442 L59.0407944,86.4703434 L59.0407944,86.1278372 L59.0407944,82.0315388 L59.0407944,81.8781311 L59.0407944,77.6234157 L51.2310892,77.6234157 L51.2310892,80.3835018 L55.8994286,80.3835018 L55.8994286,81.8781311 L55.8994286,82.0315388 L55.8994286,84.1801857 L55.8994286,86.1278372 L55.8994286,86.4703434 L55.8994286,91.1815249 C55.8994286,94.2866218 54.9834345,94.7612465 51.4927114,94.7612465 C51.366968,94.7612465 51.2500933,94.7587418 51.1303679,94.7571765 C50.4253185,94.7556111 49.7592273,94.7524803 49.0912357,94.7490365 L49.0912357,94.7484103 C46.0645276,94.7480972 45.9881948,94.7477842 45.9112285,94.7474711 C43.1774991,94.6594965 42.1265764,93.9613349 42.1265764,90.5779126 L42.1265764,89.2088272 L42.1265764,88.8663211 L42.1265764,84.1801857 L42.1265764,82.0315388 L42.1265764,70.9714703 L42.1265764,68.2786957 C42.1265764,64.869288 42.7309044,64.1598557 45.9112285,64.0671849 C45.9885115,64.0668718 46.0645276,64.0665588 49.0912357,64.0662457 L49.0912357,64.0656195 C49.7582771,64.0624888 50.4164499,64.059358 51.1303679,64.0577926 C51.3045715,64.0549749 51.4787751,64.0524703 51.6672317,64.0524703 C54.6340771,64.0524703 56.1613675,64.2249757 56.1613675,66.6832557 L56.1613675,69.0548134 L59.0407944,67.9768895 Z" id="Fill-23" fill="#384869"></path>
	</svg>
);

export const settings = {
	title: 'Crowdsignal',
	icon,
	category: 'embed',
	description: 'Embed Crowdsignal (formerly Polldaddy) content.',
	keywords: [
		_x( 'poll', 'block search term', 'jetpack' ),
		_x( 'survey', 'block search term', 'jetpack' ),
		_x( 'quiz', 'block search term', 'jetpack' ),
	],
	attributes: {},
	edit,
	save: () => null,
	transform: [ {
		type: 'block',
		blocks: [ 'core-embed/polldaddy' ],
		transform: ( content ) => {
			return createBlock( 'jetpack/crowdsignal-embed', {
				content,
			} );
		},
	} ],
	patterns: [ /^https?:\/\/((.+\.)?polldaddy\.com|poll\.fm|.+\.survey\.fm)\/.+/i ],
};
