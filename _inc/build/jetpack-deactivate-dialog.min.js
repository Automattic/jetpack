/* Do not modify this file directly. It is compiled from other files. */
/**
 * Adds the Deactivation modal.
 *
 * Depends on _inc/lib/tracks/tracks-callables.js and //stats.wp.com/w.js
 *
 */
!function(t){var a=deactivate_dialog.tracksUserData;analytics.initialize(a.userid,a.username);var e=t("tr[data-slug=jetpack] > td.plugin-title > div > span.deactivate > a"),i=e.attr("href");window.deactivateJetpack=function(){window.location.href=i};var n=new MutationObserver(function(a){a.forEach(function(a){"childList"===a.type&&a.addedNodes.forEach(function(a){"TB_window"===a.id&&(t("#TB_window").addClass("jetpack-disconnect-modal"),deactivationModalCentralize(),t("#TB_closeWindowButton, #TB_overlay").on("click",function(t){deactivationModalTrackCloseEvent()}),document.onkeyup=function(t){keycode=null===t?event.keyCode:t.which,27==keycode&&deactivationModalTrackCloseEvent()},n.disconnect())})})});window.deactivationModalCentralize=function(){var a=t("#TB_window.jetpack-disconnect-modal"),e=t(window).height()/2-t(a).height()/2;t(a).css("top",e+"px")},window.deactivationModalTrackCloseEvent=function(){analytics.tracks.recordEvent("jetpack_termination_dialog_close_click",c),document.onkeyup=""};var o=t("body")[0],c={location:"plugins",purpose:"deactivate"};e.attr("href","plugins.php#TB_inline?inlineId=jetpack_deactivation_dialog"),e.attr("title",deactivate_dialog.title),e.addClass("thickbox"),e.html(deactivate_dialog.deactivate_label),e.on("click",function(t){n.observe(o,{childList:!0}),analytics.tracks.recordEvent("jetpack_termination_dialog_open",c)}),t("#jetpack_deactivation_dialog_content__button-cancel").on("click",function(t){tb_remove(),deactivationModalTrackCloseEvent()}),t("#jetpack_deactivation_dialog_content__button-deactivate").on("click",function(a){a.preventDefault(),t(this).prop("disabled",!0),analytics.tracks.recordEvent("jetpack_termination_dialog_termination_click",c),deactivateJetpack()})}(jQuery);