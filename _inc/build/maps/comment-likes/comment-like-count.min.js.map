{"version":3,"sources":["comment-likes/comment-like-count.js"],"names":["jQuery","document","ready","$","jsonAPIbase","APIqueue","each","blogId","this","attr","commentId","push","ajax","type","url","dataType","data","map","encodeURIComponent","join","success","response","path","error_data","urlPieces","split","likeCount","found","find","hide","text","fadeIn","error"],"mappings":";AACAA,OAAQC,UAAWC,MAAO,SAAUC,GACnC,GAAIC,GAAc,2CACjBC,MAED,WACCF,EAAG,uBAAwBG,KAAM,WAChC,GAAIC,GAASJ,EAAGK,MAAOC,KAAM,gBAC5BC,EAAYP,EAAGK,MAAOC,KAAM,kBAE7BJ,GAASM,KAAM,UAAYJ,EAAS,aAAeG,EAAY,YAGzDP,EAAES,MACRC,KAAM,MACNC,IAAKV,EAAc,SACnBW,SAAU,QACVC,KAAM,UAAYX,EAASY,IAAKC,oBAAqBC,KAAM,YAC3DC,QAAS,SAAUC,GAClB,IAAM,GAAIC,KAAQD,GACjB,IAAOA,EAAUC,GAAOC,WAAa,CACpC,GAAIC,GAAYF,EAAKG,MAAO,KAC3Bf,EAAYc,EAAW,GACvBE,EAAYL,EAAUC,GAAOK,KAE9B,IAAKD,EAAY,EAChB,MAGDvB,GAAG,uBAAyBO,GAAYkB,KAAM,eAAgBC,OAAOC,KAAMJ,GAAYK,WAI1FC,MAAO","file":"../../comment-likes/comment-like-count.min.js","sourcesContent":["/* Do not modify this file directly. It is compiled from other files. */\njQuery( document ).ready( function( $ ) {\n\tvar jsonAPIbase = 'https://public-api.wordpress.com/rest/v1',\n\t\tAPIqueue = [];\n\n\tfunction getCommentLikeCounts() {\n\t\t$( '.comment-like-count' ).each( function() {\n\t\t\tvar blogId = $( this ).attr( 'data-blog-id' ),\n\t\t\t\tcommentId = $( this ).attr( 'data-comment-id' );\n\n\t\t\tAPIqueue.push( '/sites/' + blogId + '/comments/' + commentId + '/likes' );\n\t\t} );\n\n\t\treturn $.ajax( {\n\t\t\ttype: 'GET',\n\t\t\turl: jsonAPIbase + '/batch',\n\t\t\tdataType: 'jsonp',\n\t\t\tdata: 'urls[]=' + APIqueue.map( encodeURIComponent ).join( '&urls[]=' ),\n\t\t\tsuccess: function( response ) {\n\t\t\t\tfor ( var path in response ) {\n\t\t\t\t\tif ( ! response[ path ].error_data ) {\n\t\t\t\t\t\tvar urlPieces = path.split( '/' ),\n\t\t\t\t\t\t\tcommentId = urlPieces[ 4 ],\n\t\t\t\t\t\t\tlikeCount = response[ path ].found;\n\n\t\t\t\t\t\tif ( likeCount < 1 ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$( '#comment-like-count-' + commentId ).find( '.like-count' ).hide().text( likeCount ).fadeIn();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function() {}\n\t\t} );\n\t}\n\n\tgetCommentLikeCounts();\n} );\n"]}