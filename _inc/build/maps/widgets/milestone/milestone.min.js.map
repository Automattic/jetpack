{"version":3,"sources":["widgets/milestone/milestone.js"],"names":["Milestone","$","args","$widget","id","refresh","this","timer","instance","ajax","url","MilestoneConfig","api_root","success","result","find","replaceWith","message","setTimeout","jQuery","i","MilestoneInstances","instances","length"],"mappings":";;AAGA,GAAIA,WAAY,SAAYC,GAC3B,GAAID,GAAY,SAAWE,GAC1B,GAAIC,GAAUF,EAAG,IAAMC,EAAKE,IAC3BA,EAAKF,EAAKE,GACVC,EAAyB,IAAfH,EAAKG,OAEhBC,MAAKC,MAAQ,WACZ,GAAIC,GAAWF,IAEfL,GAAEQ,MACDC,IAAKC,gBAAgBC,SAAW,sBAAwBR,EACxDS,QAAS,SAAUC,GAClBX,EAAQY,KAAM,wBAAyBC,YAAaF,EAAOG,UAC3DZ,EAA2B,IAAjBS,EAAOT,UAMjBa,WACC,WACCV,EAASD,SAEVF,OAOCA,EAAU,GACdC,KAAKC,QAGP,OAAO,UAAWL,GACjB,MAAO,IAAIF,GAAWE,KAEnBiB,SAEL,WACC,GAAIC,GAAGC,IAEP,IAAmC,mBAAxB,iBAIX,IAAMD,EAAI,EAAGA,EAAIT,gBAAgBW,UAAUC,OAAQH,IAClDC,EAAmBD,GAAK,GAAIpB,WAAWW,gBAAgBW,UAAUF","file":"../../../widgets/milestone/milestone.min.js","sourcesContent":["/* Do not modify this file directly. It is compiled from other files. */\n/* global MilestoneConfig */\n\nvar Milestone = ( function( $ ) {\n\tvar Milestone = function ( args ) {\n\t\tvar $widget = $( '#' + args.id ),\n\t\t\tid = args.id,\n\t\t\trefresh = args.refresh * 1000;\n\n\t\tthis.timer = function() {\n\t\t\tvar instance = this;\n\n\t\t\t$.ajax( {\n\t\t\t\turl: MilestoneConfig.api_root + 'jetpack/v4/widgets/' + id,\n\t\t\t\tsuccess: function( result ) {\n\t\t\t\t\t$widget.find( '.milestone-countdown' ).replaceWith( result.message );\n\t\t\t\t\trefresh = result.refresh * 1000;\n\n\t\t\t\t\tif ( ! refresh ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\tinstance.timer();\n\t\t\t\t\t\t},\n\t\t\t\t\t\trefresh\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} );\n\n\t\t};\n\n\t\tif ( refresh > 0 ) {\n\t\t\tthis.timer();\n\t\t}\n\t};\n\treturn function ( args ) {\n\t\treturn new Milestone( args );\n\t};\n} )( jQuery );\n\n( function() {\n\tvar i, MilestoneInstances = {};\n\n\tif ( typeof( MilestoneConfig ) === 'undefined' ) {\n\t\treturn;\n\t}\n\n\tfor ( i = 0; i < MilestoneConfig.instances.length; i++ ) {\n\t\tMilestoneInstances[i] = new Milestone( MilestoneConfig.instances[i] );\n\t}\n} )();\n"]}