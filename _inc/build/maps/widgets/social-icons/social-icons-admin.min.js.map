{"version":3,"sources":["widgets/social-icons/social-icons-admin.js"],"names":["$","initWidget","widget","find","sortable","items","handle","cursor","placeholder","containment","forcePlaceholderSize","update","livePreviewUpdate","this","parents","button","document","body","hasClass","length","trigger","hide","timeout","ready","on","event","preventDefault","template","widgetContent","widgetList","widgetLastItem","urlId","urlName","trim","html","data","attr","append","remove","is","keyCode","clearTimeout","setTimeout","jQuery"],"mappings":";CACA,SAAYA,GAIX,QAASC,GAAYC,GACpBA,EAAOC,KAAM,qCAAsCC,UAClDC,MAAO,sCACPC,OAAQ,UACRC,OAAQ,OACRC,YAAa,wDACbC,YAAaP,EACbQ,sBAAsB,EACtBC,OAAQ,WACPC,EAAmBZ,EAAGa,MAAOC,QAAS,SAAUX,KAAM,4BAMzD,QAASS,GAAmBG,GACpBf,EAAGgB,SAASC,MAAOC,SAAU,kBAAuBH,EAAOI,QAIlEJ,EAAOK,QAAS,SAAUC,OAvB3B,GAAIC,GAAU,IA0BdtB,GAAGgB,UAAWO,MAAO,WAEpBvB,EAAGgB,UAAWQ,GAAI,QAAS,iDAAkD,SAAUC,GACtFA,EAAMC,gBAEN,IAAIC,GAAUC,EAAeC,EAAYC,EAAgBC,EAAOC,CAEhEL,GAAgB3B,EAAGA,EAAEiC,KAAMjC,EAAG,8CAA+CkC,SAC7EN,EAAgB5B,EAAGa,MAAOC,QAAS,mBACnCe,EAAgBD,EAAczB,KAAM,qCACpC4B,EAAgBF,EAAWM,KAAM,eACjCH,EAAgBH,EAAWM,KAAM,iBAEjCR,EAASxB,KAAM,0CAA2CiC,KAAM,KAAML,GAAQK,KAAM,OAAQJ,EAAU,MAEtGH,EAAWQ,OAAQV,GAEnBG,EAAiBF,EAAczB,KAAM,0CACrC2B,EAAe3B,KAAM,eAAgBiB,QAAS,WAI/CpB,EAAGgB,UAAWQ,GAAI,QAAS,kDAAmD,SAAUC,GACvFA,EAAMC,gBAEN,IAAIX,GAASf,EAAGa,MAAOC,QAAS,SAAUX,KAAM,uBAEhDH,GAAGa,MAAOC,QAAS,qCAAsCwB,SAEzD1B,EAAmBG,KAIpBf,EAAGgB,UAAWQ,GAAI,QAAS,4HAA6H,WAClJxB,EAAGa,MAAOC,QAAS,sBAAuBK,QAI/ClB,EAAYD,EAAGa,MAAOC,QAAS,iDAIhCd,EAAGgB,UAAWQ,GAAI,eAAgB,SAAUC,EAAOvB,GAC7CA,EAAOqC,GAAI,yCACfd,EAAMC,iBACNzB,EAAYC,MAKdF,EAAGgB,UAAWQ,GAAI,iBAAkB,SAAUC,EAAOvB,GAC/CA,EAAOqC,GAAI,yCACfd,EAAMC,iBACNzB,EAAYC,MAKdF,EAAGgB,UAAWQ,GAAI,WAAY,6CAA8C,WAC3EZ,EAAmBZ,EAAGa,MAAOC,QAAS,SAAUX,KAAM,2BAIvDH,EAAGgB,UAAWQ,GAAI,UAAW,6CAA8C,SAAUC,GAC7D,KAAlBA,EAAMe,SACV5B,EAAmBZ,EAAGa,MAAOC,QAAS,SAAUX,KAAM,2BAKxDH,EAAGgB,UAAWQ,GAAI,QAAS,6CAA8C,WACxEiB,aAAcnB,GAEdA,EAAUoB,WAAY,WACrB9B,EAAmBZ,EAAGa,MAAOC,QAAS,SAAUX,KAAM,0BACpD,OAIJH,EAAGgB,UAAWQ,GAAI,SAAU,8CAA+C,WAC1EZ,EAAmBZ,EAAGa,MAAOC,QAAS,SAAUX,KAAM,8BAGpDwC","file":"../../../widgets/social-icons/social-icons-admin.min.js","sourcesContent":["/* Do not modify this file directly. It is compiled from other files. */\n( function( $ ) {\n\tvar timeout = null;\n\n\t// Make the list of items sortable.\n\tfunction initWidget( widget ) {\n\t\twidget.find( '.jetpack-social-icons-widget-list' ).sortable( {\n\t\t\titems: '> .jetpack-social-icons-widget-item',\n\t\t\thandle: '.handle',\n\t\t\tcursor: 'move',\n\t\t\tplaceholder: 'jetpack-social-icons-widget-item ui-state-placeholder',\n\t\t\tcontainment: widget,\n\t\t\tforcePlaceholderSize: true,\n\t\t\tupdate: function() {\n\t\t\t\tlivePreviewUpdate( $( this ).parents( '.form' ).find( '.widget-control-save' ) );\n\t\t\t}\n\t\t} );\n\t}\n\n\t// Live preview update.\n\tfunction livePreviewUpdate( button ) {\n\t\tif ( ! $( document.body ).hasClass( 'wp-customizer' ) || ! button.length  ) {\n\t\t\treturn;\n\t\t}\n\n\t\tbutton.trigger( 'click' ).hide();\n\t}\n\n\t$( document ).ready( function() {\n\t\t// Add an item.\n\t\t$( document ).on( 'click', '.jetpack-social-icons-widget.add-button button', function( event ) {\n\t\t\tevent.preventDefault();\n\n\t\t\tvar template, widgetContent, widgetList, widgetLastItem, urlId, urlName;\n\n\t\t\ttemplate      = $( $.trim( $( '#tmpl-jetpack-widget-social-icons-template' ).html() ) );\n\t\t\twidgetContent = $( this ).parents( '.widget-content' );\n\t\t\twidgetList    = widgetContent.find( '.jetpack-social-icons-widget-list' );\n\t\t\turlId         = widgetList.data( 'url-icon-id');\n\t\t\turlName       = widgetList.data( 'url-icon-name' );\n\n\t\t\ttemplate.find( '.jetpack-widget-social-icons-url input' ).attr( 'id', urlId ).attr( 'name', urlName + '[]' );\n\n\t\t\twidgetList.append( template );\n\n\t\t\twidgetLastItem = widgetContent.find( '.jetpack-social-icons-widget-item:last' );\n\t\t\twidgetLastItem.find( 'input:first' ).trigger( 'focus' );\n\t\t} );\n\n\t\t// Remove an item.\n\t\t$( document ).on( 'click', '.jetpack-widget-social-icons-remove-item-button', function( event ) {\n\t\t\tevent.preventDefault();\n\n\t\t\tvar button = $( this ).parents( '.form' ).find( '.widget-control-save' );\n\n\t\t\t$( this ).parents( '.jetpack-social-icons-widget-item' ).remove();\n\n\t\t\tlivePreviewUpdate( button );\n\t\t} );\n\n\t\t// Event handler for widget open button.\n\t\t$( document ).on( 'click', 'div.widget[id*=\"jetpack_widget_social_icons\"] .widget-title, div.widget[id*=\"jetpack_widget_social_icons\"] .widget-action', function() {\n\t\t\tif ( $( this ).parents( '#available-widgets' ).length ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tinitWidget( $( this ).parents( '.widget[id*=\"jetpack_widget_social_icons\"]' ) );\n\t\t} );\n\n\t\t// Event handler for widget added.\n\t\t$( document ).on( 'widget-added', function( event, widget ) {\n\t\t\tif ( widget.is( '[id*=\"jetpack_widget_social_icons\"]' ) ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tinitWidget( widget );\n\t\t\t}\n\t\t} );\n\n\t\t// Event handler for widget updated.\n\t\t$( document ).on( 'widget-updated', function( event, widget ) {\n\t\t\tif ( widget.is( '[id*=\"jetpack_widget_social_icons\"]' ) ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tinitWidget( widget );\n\t\t\t}\n\t\t} );\n\n\t\t// Live preview update on input focus out.\n\t\t$( document ).on( 'focusout', 'input[name*=\"jetpack_widget_social_icons\"]', function() {\n\t\t\tlivePreviewUpdate( $( this ).parents( '.form' ).find( '.widget-control-save' ) );\n\t\t} );\n\n\t\t// Live preview update on input enter key.\n\t\t$( document ).on( 'keydown', 'input[name*=\"jetpack_widget_social_icons\"]', function( event ) {\n\t\t\tif ( event.keyCode === 13 ) {\n\t\t\t\tlivePreviewUpdate( $( this ).parents( '.form' ).find( '.widget-control-save' ) );\n\t\t\t}\n\t\t} );\n\n\t\t// Live preview update on input key up 1s.\n\t\t$( document ).on( 'keyup', 'input[name*=\"jetpack_widget_social_icons\"]', function() {\n\t\t\tclearTimeout( timeout );\n\n\t\t\ttimeout = setTimeout( function() {\n\t\t\t\tlivePreviewUpdate( $( this ).parents( '.form' ).find( '.widget-control-save' ) );\n\t\t\t}, 1000 );\n\t\t} );\n\n\t\t// Live preview update on select change.\n\t\t$( document ).on( 'change', 'select[name*=\"jetpack_widget_social_icons\"]', function() {\n\t\t\tlivePreviewUpdate( $( this ).parents( '.form' ).find( '.widget-control-save' ) );\n\t\t} );\n\t} );\n} )( jQuery );\n"]}