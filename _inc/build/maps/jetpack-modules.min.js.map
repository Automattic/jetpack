{"version":3,"sources":["jetpack-modules.js"],"names":["window","$","items","models","views","i18n","modalinfo","nonces","modules","handle_module_tag_click","$the_filters","$the_search","$bulk_button","Modules","List_Table","el","model","trigger","event","find","this","data","addClass","closest","siblings","removeClass","preventDefault","on","e","keyCode","prop","search_placeholder","url","selectedModules","serialize","selectedAction","val","length","encodeURIComponent","bulk","location","href","jQuery","jetpackModulesData","jetpackModules"],"mappings":";CAEA,SAAYA,EAAQC,EAAGC,EAAOC,EAAQC,EAAOC,EAAMC,EAAWC,GAC7D,YAEA,IAAIC,GAAqBC,EAAqCC,EAAcC,EAAwBC,CAErFX,GAAG,kCAClBS,EAAeT,EAAG,gBAClBU,EAAeV,EAAG,2BACHA,EAAG,aAClBW,EAAeX,EAAG,aAElBO,EAAU,GAAIL,GAAOU,SACpBX,MAAQA,IAGI,GAAIE,GAAMU,YACtBC,GAAQ,YACRC,MAAQR,IAITA,EAAQS,QAAS,UAGjBR,EAA0B,SAAUS,GAEnCjB,EAAG,cAAekB,KAAM,iBAAmBlB,EAAEmB,MAAMC,KAAK,SAAW,MAAOC,SAAU,WAClFC,QAAS,MAAOC,WAAWL,KAAM,aAAcM,YAAa,WAE9DP,EAAMQ,iBACNlB,EAAQS,QAAS,WAGlBhB,EAAG,gBAAiB0B,GAAI,SAAWnB,QAAUA,GAAWC,GAExDC,EAAaiB,GAAI,QAAS,yBAA2BnB,QAAUA,GAAW,SAAUU,GACnFA,EAAMQ,iBACNzB,EAAEmB,MAAME,SAAS,UAAUE,SAAS,WAAWC,YAAY,UAC3DjB,EAAQS,QAAS,YAGlBN,EAAYgB,GAAI,eAAgB,SAAUC,GAGtB,IAAdA,EAAEC,SACNrB,EAAQS,QAAS,YAInBN,EAAYmB,KAAM,cAAezB,EAAK0B,oBAEtCnB,EAAae,GAAI,QAAS,SAAUT,GACnC,GAECc,GAFGC,EAAkBhC,EAAE,oCAAoCiC,YAC3DC,EAAiBlC,EAAEmB,MAAMI,SAAS,UAAUY,KAGxCH,GAAgBI,QAAU,OAASF,IACvCH,EAAM,iCAAmCM,mBAAoBH,GAC7DH,GAAO,IAAMC,EACbD,GAAO,aAAeM,mBAAoB/B,EAAOgC,MAEjDvC,EAAOwC,SAASC,KAAOT,GAKxBd,EAAMQ,oBAGFN,KAAMsB,OAAQ1C,OAAO2C,mBAAmBnC,QAASY,KAAKwB,eAAezC,OAAQiB,KAAKwB,eAAexC,MAAOJ,OAAO2C,mBAAmBtC,KAAML,OAAO2C,mBAAmBrC,UAAWN,OAAO2C,mBAAmBpC","file":"../jetpack-modules.min.js","sourcesContent":["/* Do not modify this file directly. It is compiled from other files. */\n\n( function( window, $, items, models, views, i18n, modalinfo, nonces ) {\n\t'use strict';\n\n\tvar modules, list_table, handle_module_tag_click, $the_table, $the_filters, $the_search, $jp_frame, $bulk_button;\n\n\t$the_table   = $( '.wp-list-table.jetpack-modules' );\n\t$the_filters = $( '.navbar-form' );\n\t$the_search  = $( '#srch-term-search-input' );\n\t$jp_frame    = $( '.jp-frame' );\n\t$bulk_button = $( '#doaction' );\n\n\tmodules = new models.Modules( {\n\t\titems : items\n\t} );\n\n\tlist_table = new views.List_Table( {\n\t\tel    : '#the-list',\n\t\tmodel : modules\n\t} );\n\n\t// Kick off an initial redraw.\n\tmodules.trigger( 'change' );\n\n\t// Handle the filtering of modules.\n\thandle_module_tag_click = function( event ) {\n\t\t// Switch the item in the subsubsub list that's flagged as current.\n\t\t$( '.subsubsub' ).find( 'a[data-title=\"' + $(this).data('title') + '\"]' ).addClass( 'current' )\n\t\t\t.closest( 'li' ).siblings().find( 'a.current' ).removeClass( 'current' );\n\n\t\tevent.preventDefault();\n\t\tmodules.trigger( 'change' );\n\t};\n\n\t$( '.subsubsub a' ).on( 'click', { modules : modules }, handle_module_tag_click );\n\n\t$the_filters.on( 'click', '.button-group .button', { modules : modules }, function( event ) {\n\t\tevent.preventDefault();\n\t\t$(this).addClass('active').siblings('.active').removeClass('active');\n\t\tmodules.trigger( 'change' );\n\t} );\n\n\t$the_search.on( 'keyup search', function( e ) {\n\t\t// Don't trigger change on tab, since it's only used for accessibility\n\t\t// anyway, and will remove all checked boxes\n\t\tif ( e.keyCode !== 9 ) {\n\t\t\tmodules.trigger( 'change' );\n\t\t}\n\t} );\n\n\t$the_search.prop( 'placeholder', i18n.search_placeholder );\n\n\t$bulk_button.on( 'click', function( event ) {\n\t\tvar selectedModules = $('.jetpack-modules-list-table-form').serialize(),\n\t\t\tselectedAction = $(this).siblings('select').val(),\n\t\t\turl;\n\n\t\tif ( selectedModules.length && '-1' !== selectedAction ) {\n\t\t\turl = 'admin.php?page=jetpack&action=' + encodeURIComponent( selectedAction );\n\t\t\turl += '&' + selectedModules;\n\t\t\turl += '&_wpnonce=' + encodeURIComponent( nonces.bulk );\n\n\t\t\twindow.location.href = url;\n\t\t} else {\n\t\t\t// Possibly add in an alert here explaining why nothing's happening?\n\t\t}\n\n\t\tevent.preventDefault();\n\t} );\n\n} ) ( this, jQuery, window.jetpackModulesData.modules, this.jetpackModules.models, this.jetpackModules.views, window.jetpackModulesData.i18n, window.jetpackModulesData.modalinfo, window.jetpackModulesData.nonces );\n"]}