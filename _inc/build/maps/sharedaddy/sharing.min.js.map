{"version":3,"sources":["sharedaddy/sharing.js"],"names":["sharing_js_options","counts","WPCOMSharing","done_urls","get_counts","url","requests","id","service","service_request","WPCOM_sharing_counts","pinterest","window","location","protocol","encodeURIComponent","facebook","jQuery","length","pop","getScript","is_stats_active","bump_sharing_count_stat","get_permalink","replace","update_facebook_count","data","permalink","hasOwnProperty","share","share_count","inject_share_count","update_pinterest_count","count","$share","find","remove","append","format_count","String","substring","Image","src","document","Math","random","$","WPCOMSharing_do","$more_sharing_buttons","click","each","this","attr","indexOf","on","$more_sharing_button","$more_sharing_pane","parents","is","$sharing_email","slideUp","css","left","position","top","height","slideToggle","undefined","ontouchstart","hover","timer","setTimeout","handler_item_leave","handler_item_enter","handler_original_leave","handler_original_enter","close_it","slideDown","mouseleave","mouseenter","clearTimeout","unbind","body","addClass","printUrl","uniqueId","urlToPrint","ref","do_print","uid","Date","getTime","print","s","getSelection","selection","createRange","text","encodeURI","open","href","currentDomain","hostname","show","removeAttr","grecaptcha","reset","___grecaptcha_cfg","offset","hide","fadeOut","form","source_email_input","target_email_input","prop","removeClass","share_is_email","ajax","type","serialize","success","response","$body","fn","extend","test","val","ready"],"mappings":";;;AAGA,GAAIA,mBACJ,IAAKA,oBAAsBA,mBAAmBC,OAC7C,GAAIC,eACHC,aACAC,WAAa,WACZ,GAAIC,GAAKC,EAAUC,EAAIC,EAASC,CAEhC,IAAK,mBAAuBC,sBAI5B,IAAML,IAAOK,sBAGZ,GAFAH,EAAKG,qBAAsBL,OAEtB,KAAuBH,aAAaC,UAAWI,GAApD,CAIAD,GAECK,WACCC,OAAOC,SAASC,SAChB,2FACAC,mBAAoBV,IAGrBW,UACCJ,OAAOC,SAASC,SAChB,yEACAC,mBAAoBV,IAItB,KAAMG,IAAWF,GAChB,GAAOW,OAAQ,yBAA2BT,EAAU,IAAMD,EAAM,KAAMW,OAAtE,CAIA,KAAUT,EAAkBH,EAAUE,GAAUW,OAC/CF,OAAOG,UAAWX,EAGdT,oBAAmBqB,iBACvBnB,aAAaoB,wBAAyBd,GAIxCN,aAAaC,UAAWI,IAAO,IAKjCgB,cAAe,SAAUlB,GAOxB,MALCA,GADI,WAAaO,OAAOC,SAASC,SAC3BT,EAAImB,QAAS,cAAe,YAE5BnB,EAAImB,QAAS,eAAgB,YAKrCC,sBAAuB,SAAUC,GAChC,GAAIrB,GAAKsB,CAET,IAAOD,EAIP,IAAMrB,IAAOqB,GACLA,EAAKE,eAAgBvB,IAAWqB,EAAMrB,GAAMwB,OAAWH,EAAMrB,GAAMwB,MAAMC,cAIhFH,EAAYzB,aAAaqB,cAAelB,KAElBK,uBAItBR,aAAa6B,mBAAoB,oBAAsBrB,qBAAsBiB,GAAaD,EAAMrB,GAAMwB,MAAMC,cAG9GE,uBAAyB,SAAUN,OAC7B,KAAuBA,EAAKO,OAAwB,EAAbP,EAAKO,MAAc,GAC9D/B,aAAa6B,mBAAoB,qBAAuBrB,qBAAsBgB,EAAKrB,KAAOqB,EAAKO,QAGjGF,mBAAqB,SAAUxB,EAAI0B,GAClC,GAAIC,GAASjB,OAAQ,iBAAmBV,EAAK,WAC7C2B,GAAOC,KAAM,gBAAiBC,SAC9BF,EAAOG,OAAQ,6BAA+BnC,aAAaoC,aAAcL,GAAU,YAEpFK,aAAe,SAAUL,GACxB,MAAKA,GAAQ,IACLA,EAEHA,GAAS,KAAQA,EAAQ,IACtBM,OAAQN,GAAQO,UAAW,EAAG,GAAM,KAErC,QAERlB,wBAAyB,SAAUd,IAClC,GAAIiC,QAAQC,IAAMC,SAAS9B,SAASC,SAAW,8DAAgEN,EAAU,MAAQoC,KAAKC,YAKzI,SAAUC,GAgBT,QAASC,KACR,GAAIC,OACC,KAAuB9C,cAC3BA,aAAaE,aAEd4C,EAAwBF,EAAG,gCAE3BE,EAAsBC,MAAO,WAC5B,OAAO,IAGRH,EAAG,iBAAkBI,KAAM,WACrBJ,EAAGK,MAAOC,KAAM,UAA8D,IAAlDN,EAAGK,MAAOC,KAAM,QAASC,QAAS,WAClEP,EAAGK,MAAOC,KAAM,OAAQN,EAAGK,MAAOC,KAAM,QAAW,WAQrDJ,EAAsBM,GAAI,QAAS,WAClC,GAAIC,GAAuBT,EAAGK,MAC7BK,EAAqBD,EAAqBE,QAAS,aAActB,KAAM,SAEnEqB,GAAmBE,GAAI,eAKvB,IAASF,EAAmB9B,KAAM,cAKvCiC,EAAeC,QAAS,KAExBJ,EAAmBK,KAClBC,KAAMP,EAAqBQ,WAAWD,KAAO,KAC7CE,IAAKT,EAAqBQ,WAAWC,IAAMT,EAAqBU,SAAW,EAAI,OAC5EC,YAAa,YAGaC,KAA1BxB,SAASyB,aAEbpB,EAAsBqB,MAAO,WAC5B,GAECC,GAFGf,EAAuBT,EAAGK,MAC7BK,EAAqBD,EAAqBE,QAAS,aAActB,KAAM,SAGjEqB,GAAmBE,GAAI,eAE7BY,EAAQC,WAAY,WACnB,GAAIC,GAAoBC,EAAoBC,EAAwBC,EAAwBC,CAE5FjB,GAAeC,QAAS,KAExBJ,EAAmB9B,KAAM,YAAY,GACrC8B,EAAmBK,KAClBC,KAAMP,EAAqBQ,WAAWD,KAAO,KAC7CE,IAAKT,EAAqBQ,WAAWC,IAAMT,EAAqBU,SAAW,EAAI,OAC5EY,UAAW,IAAK,WAEnBtB,EAAqB7B,KAAM,eAAe,GAAOA,KAAM,WAAW,GAElE6C,WAAY,WACXf,EAAmB9B,KAAM,YAAY,IACnC,KAEE8B,EAAmBrB,KAAM,wBAAyBjB,SAKvDsC,EAAmBsB,WAAYN,GAAqBO,WAAYN,GAChElB,EAAqBuB,WAAYJ,GAAyBK,WAAYJ,MAIvEH,EAAqB,WAGpB,GAFAjB,EAAqB7B,KAAM,WAAW,IAEc,IAA/C6B,EAAqB7B,KAAM,eAA4B,CAC3D,GAAI4C,GAAQC,WAAYK,EAAU,IAClCrB,GAAqB7B,KAAM,SAAU4C,KAIvCG,EAAqB,WACpBlB,EAAqB7B,KAAM,WAAW,GACtCsD,aAAczB,EAAqB7B,KAAM,YAG1CgD,EAAyB,WAGxB,GAFAnB,EAAqB7B,KAAM,eAAe,IAEM,IAA3C6B,EAAqB7B,KAAM,WAAwB,CACvD,GAAI4C,GAAQC,WAAYK,EAAU,IAClCrB,GAAqB7B,KAAM,SAAU4C,KAIvCK,EAAyB,WACxBpB,EAAqB7B,KAAM,eAAe,GAC1CsD,aAAczB,EAAqB7B,KAAM,YAG1CkD,EAAW,WAWV,MAVApB,GAAmB9B,KAAM,YAAY,GACrC8B,EAAmBI,QAAS,IAAK,WAChCW,WAAY,WACXf,EAAmB9B,KAAM,YAAY,IACnC,OAIJ6B,EAAqB0B,OAAQ,aAAcP,GAAyBO,OAAQ,aAAcN,GAC1FnB,EAAmByB,OAAQ,aAAcT,GAAqBS,OAAQ,aAAcT,IAC7E,IAEN,KAGHjB,EAAqB7B,KAAM,QAAS4C,KAEnC,WAEFtB,EAAsBE,KAAM,WAC3B8B,aAAclC,EAAGK,MAAOzB,KAAM,YAE/BsB,EAAsBtB,KAAM,SAAS,KAGtCoB,EAAGH,SAASuC,MAAOC,SAAU,0BAG9BrC,EAAGH,UAAWM,MAAM,WAInBD,EAAsBE,KAAM,WAC3B8B,aAAclC,EAAGK,MAAOzB,KAAM,YAE/BsB,EAAsBtB,KAAM,SAAS,GAGrCoB,EAAG,sBAAuBc,YAK3Bd,EAAG,kBAAmBI,KAAM,WAE3B,GAAK,QAAUJ,EAAGK,MAAOzB,KAAM,oBAA/B,CAGAoB,EAAGK,MAAOzB,KAAM,mBAAoB,MAEpC,IAAI0D,GAAW,SAAWC,EAAUC,GACnCxC,EAAG,cAAeT,OAAQ,oGAAsGgD,EAAW,sBAAwBA,EAAW,UAAYC,EAAa,iCAAmCD,EAAW,iCAAqCA,EAAW,2BAItSvC,GAAGK,MAAOhB,KAAM,iBAAkBc,MAAO,WACxC,GAAIsC,GAAMzC,EAAGK,MAAOC,KAAM,QACzBoC,EAAW,WACV,IAAkC,IAA7BD,EAAIlC,QAAS,UAAoB,CACrC,GAAIoC,IAAM,GAAIC,OAAOC,SACrBP,GAAUK,EAAMF,OAEhBK,SAaH,OARK9C,GAAGK,MAAOM,QAAS,mBAAoBvC,OAAS,EACpD4B,EAAGK,MAAOM,QAAS,UAAWG,QAAS,EAAG,WACzC4B,MAGDA,KAGM,IAIR1C,EAAGK,MAAOhB,KAAM,sBAAuBc,MAAO,WAC7C,GAAI4C,GAAI,EAkBR,OAhBKjF,QAAOkF,aACXD,EAAIjF,OAAOkF,eACDnD,SAASmD,aACnBD,EAAIlD,SAASmD,eACHnD,SAASoD,YACnBF,EAAIlD,SAASoD,UAAUC,cAAcC,MAGjCJ,GACJ/C,EAAGK,MAAOC,KAAM,OAAQN,EAAGK,MAAOC,KAAM,QAAW,QAAU8C,UAAWL,IAGnEjF,OAAOuF,KAAMrD,EAAGK,MAAOC,KAAM,QAAU,IAAK,sEACjDT,SAAS9B,SAASuF,KAAOtD,EAAGK,MAAOC,KAAM,UAGnC,IAIRN,EAAG,gBAAiBK,MAAOG,GAAI,QAAS,WACvC,GAAIjD,GAAMyC,EAAGK,MAAOC,KAAM,QACtBiD,EAAgBzF,OAAOC,SAASC,SAAW,KAAOF,OAAOC,SAASyF,SAAW,GACjF,OAAsC,KAAjCjG,EAAIgD,QAASgD,KAIb1C,EAAeD,GAAI,YACvBC,EAAeC,QAAS,MAExBd,EAAG,sBAAuBc,UAE1Bd,EAAG,4BAA6BV,SAChCU,EAAG,uBAAwByD,OAC3BzD,EAAG,0CAA2C0D,WAAY,YAC1D1D,EAAG,wCAAyCyD,OAGvC,gBAAoBE,aAAc,kBAAsBA,YAAWC,OAAS9F,OAAO+F,kBAAkB1E,OACzGwE,WAAWC,QAIZ/C,EAAeE,KACdC,KAAMhB,EAAGK,MAAOyD,SAAS9C,KAAO,KAChCE,IAAKlB,EAAGK,MAAOyD,SAAS5C,IAAMlB,EAAGK,MAAOc,SAAW,OAChDY,UAAW,KAGf/B,EAAG,mCAAoCmC,OAAQ,SAAUhC,MAAO,WAI/D,MAHAH,GAAG,0BAA2B+D,OAC9BlD,EAAeC,QAAS,KACxBd,EAAG,uBAAwBgE,WACpB,IAIRhE,EAAG,qCAAsCmC,OAAQ,SAAUhC,MAAO,WACjE,GAAI8D,GAAOjE,EAAGK,MAAOM,QAAS,QAC1BuD,EAAqBD,EAAK5E,KAAM,4BAChC8E,EAAqBF,EAAK5E,KAAM,2BAkBpC,OAfAW,GAAGK,MAAO+D,KAAM,YAAY,GAC5BH,EAAK5E,KAAM,oBAAqB0E,OAChCE,EAAK5E,KAAM,eAAgBoE,OAE3BzD,EAAG,0BAA2B+D,OAC9B/D,EAAG,yBAA0BqE,YAAa,SAEnCH,EAAmBI,kBACzBJ,EAAmB7B,SAAU,SAGvB8B,EAAmBG,kBACzBH,EAAmB9B,SAAU,SAGe,IAAxCrC,EAAG,yBAA0B5B,QAEjC4B,EAAEuE,MACDhH,IAAKA,EACLiH,KAAM,OACN5F,KAAMqF,EAAKQ,YACXC,QAAS,SAAUC,GAClBV,EAAK5E,KAAM,eAAgB0E,OAET,MAAbY,GAAiC,MAAbA,GAAiC,MAAbA,GAC5C3E,EAAG,0BAA4B2E,GAAWlB,OAC1CQ,EAAK5E,KAAM,sBAAuBqE,WAAY,YAC9CO,EAAK5E,KAAM,oBAAqBoE,OAE3B,gBAAoBE,aAAc,kBAAsBA,YAAWC,OACvED,WAAWC,UAIZ5D,EAAG,uBAAwB+D,OAC3BlD,EAAetB,OAAQoF,GACvB3E,EAAG,mCAAoCG,MAAO,WAG7C,MAFAU,GAAeC,QAAS,KACxBd,EAAG,uBAAwBgE,WACpB,SAMJ,IAGRC,EAAK5E,KAAM,eAAgB0E,OAC3BE,EAAK5E,KAAM,sBAAuBqE,WAAY,YAC9CO,EAAK5E,KAAM,oBAAqBoE,OAChCzD,EAAG,4BAA6ByD,QAEzB,OAIF,QAITzD,EAAG,oDAAqDqC,SAAU,yBAzUnE,GAAIuC,GAAO/D,CAEXb,GAAE6E,GAAGC,QACJR,eAAgB,WACf,MAAO,64BAA64BS,KAAM1E,KAAK2E,UAIj6BJ,EAAQ5E,EAAGH,SAASuC,MAAO5B,GAAI,YAAaP,GAC5CD,EAAGH,UAAWoF,MAAO,WACpBpE,EAAiBb,EAAG,kBACpB4E,EAAMrF,OAAQsB,GACdZ,OA+TE9B","file":"../../sharedaddy/sharing.min.js","sourcesContent":["/* Do not modify this file directly. It is compiled from other files. */\n/* global WPCOM_sharing_counts, grecaptcha */\n/* jshint unused:false */\nvar sharing_js_options;\nif ( sharing_js_options && sharing_js_options.counts ) {\n\tvar WPCOMSharing = {\n\t\tdone_urls : [],\n\t\tget_counts : function() {\n\t\t\tvar url, requests, id, service, service_request;\n\n\t\t\tif ( 'undefined' === typeof WPCOM_sharing_counts ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor ( url in WPCOM_sharing_counts ) {\n\t\t\t\tid = WPCOM_sharing_counts[ url ];\n\n\t\t\t\tif ( 'undefined' !== typeof WPCOMSharing.done_urls[ id ] ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\trequests = {\n\t\t\t\t\t// Pinterest handles share counts for both http and https\n\t\t\t\t\tpinterest: [\n\t\t\t\t\t\twindow.location.protocol +\n\t\t\t\t\t\t'//api.pinterest.com/v1/urls/count.json?callback=WPCOMSharing.update_pinterest_count&url=' +\n\t\t\t\t\t\tencodeURIComponent( url )\n\t\t\t\t\t],\n\t\t\t\t\t// Facebook protocol summing has been shown to falsely double counts, so we only request the current URL\n\t\t\t\t\tfacebook: [\n\t\t\t\t\t\twindow.location.protocol +\n\t\t\t\t\t\t'//graph.facebook.com/?callback=WPCOMSharing.update_facebook_count&ids=' +\n\t\t\t\t\t\tencodeURIComponent( url )\n\t\t\t\t\t]\n\t\t\t\t};\n\n\t\t\t\tfor ( service in requests ) {\n\t\t\t\t\tif ( ! jQuery( 'a[data-shared=sharing-' + service + '-' + id  + ']' ).length ) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\twhile ( ( service_request = requests[ service ].pop() ) ) {\n\t\t\t\t\t\tjQuery.getScript( service_request );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( sharing_js_options.is_stats_active ) {\n\t\t\t\t\t\tWPCOMSharing.bump_sharing_count_stat( service );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tWPCOMSharing.done_urls[ id ] = true;\n\t\t\t}\n\t\t},\n\n\t\t// get the version of the url that was stored in the dom (sharing-$service-URL)\n\t\tget_permalink: function( url ) {\n\t\t\tif ( 'https:' === window.location.protocol ) {\n\t\t\t\turl = url.replace( /^http:\\/\\//i, 'https://' );\n\t\t\t} else {\n\t\t\t\turl = url.replace( /^https:\\/\\//i, 'http://' );\n\t\t\t}\n\n\t\t\treturn url;\n\t\t},\n\t\tupdate_facebook_count: function( data ) {\n\t\t\tvar url, permalink;\n\n\t\t\tif ( ! data ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor ( url in data ) {\n\t\t\t\tif ( ! data.hasOwnProperty( url ) || ! data[ url ].share || ! data[ url ].share.share_count ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tpermalink = WPCOMSharing.get_permalink( url );\n\n\t\t\t\tif ( ! ( permalink in WPCOM_sharing_counts ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tWPCOMSharing.inject_share_count( 'sharing-facebook-' + WPCOM_sharing_counts[ permalink ], data[ url ].share.share_count );\n\t\t\t}\n\t\t},\n\t\tupdate_pinterest_count : function( data ) {\n\t\t\tif ( 'undefined' !== typeof data.count && ( data.count * 1 ) > 0 ) {\n\t\t\t\tWPCOMSharing.inject_share_count( 'sharing-pinterest-' + WPCOM_sharing_counts[ data.url ], data.count );\n\t\t\t}\n\t\t},\n\t\tinject_share_count : function( id, count ) {\n\t\t\tvar $share = jQuery( 'a[data-shared=' + id + '] > span');\n\t\t\t$share.find( '.share-count' ).remove();\n\t\t\t$share.append( '<span class=\"share-count\">' + WPCOMSharing.format_count( count ) + '</span>' );\n\t\t},\n\t\tformat_count : function( count ) {\n\t\t\tif ( count < 1000 ) {\n\t\t\t\treturn count;\n\t\t\t}\n\t\t\tif ( count >= 1000 && count < 10000 ) {\n\t\t\t\treturn String( count ).substring( 0, 1 ) + 'K+';\n\t\t\t}\n\t\t\treturn '10K+';\n\t\t},\n\t\tbump_sharing_count_stat: function( service ) {\n\t\t\tnew Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv&x_sharing-count-request=' + service + '&r=' + Math.random();\n\t\t}\n\t};\n}\n\n(function($){\n\tvar $body, $sharing_email;\n\n\t$.fn.extend( {\n\t\tshare_is_email: function() {\n\t\t\treturn /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i.test( this.val() );\n\t\t}\n\t} );\n\n\t$body = $( document.body ).on( 'post-load', WPCOMSharing_do );\n\t$( document ).ready( function() {\n\t\t$sharing_email = $( '#sharing_email' );\n\t\t$body.append( $sharing_email );\n\t\tWPCOMSharing_do();\n\t} );\n\n\tfunction WPCOMSharing_do() {\n\t\tvar $more_sharing_buttons;\n\t\tif ( 'undefined' !== typeof WPCOMSharing ) {\n\t\t\tWPCOMSharing.get_counts();\n\t\t}\n\t\t$more_sharing_buttons = $( '.sharedaddy a.sharing-anchor' );\n\n\t\t$more_sharing_buttons.click( function() {\n\t\t\treturn false;\n\t\t} );\n\n\t\t$( '.sharedaddy a' ).each( function() {\n\t\t\tif ( $( this ).attr( 'href' ) && $( this ).attr( 'href' ).indexOf( 'share=' ) !== -1 ) {\n\t\t\t\t$( this ).attr( 'href', $( this ).attr( 'href' ) + '&nb=1' );\n\t\t\t}\n\t\t} );\n\n\t\t// Show hidden buttons\n\n\t\t// Touchscreen device: use click.\n\t\t// Non-touchscreen device: use click if not already appearing due to a hover event\n\t\t$more_sharing_buttons.on( 'click', function() {\n\t\t\tvar $more_sharing_button = $( this ),\n\t\t\t\t$more_sharing_pane = $more_sharing_button.parents( 'div:first' ).find( '.inner' );\n\n\t\t\tif ( $more_sharing_pane.is( ':animated' ) ) {\n\t\t\t\t// We're in the middle of some other event's animation\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( true === $more_sharing_pane.data( 'justSlid' ) ) {\n\t\t\t\t// We just finished some other event's animation - don't process click event so that slow-to-react-clickers don't get confused\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$sharing_email.slideUp( 200 );\n\n\t\t\t$more_sharing_pane.css( {\n\t\t\t\tleft: $more_sharing_button.position().left + 'px',\n\t\t\t\ttop: $more_sharing_button.position().top + $more_sharing_button.height() + 3 + 'px'\n\t\t\t} ).slideToggle( 200 );\n\t\t} );\n\n\t\tif ( document.ontouchstart === undefined ) {\n\t\t\t// Non-touchscreen device: use hover/mouseout with delay\n\t\t\t$more_sharing_buttons.hover( function() {\n\t\t\t\tvar $more_sharing_button = $( this ),\n\t\t\t\t\t$more_sharing_pane = $more_sharing_button.parents( 'div:first' ).find( '.inner' ),\n\t\t\t\t\ttimer;\n\n\t\t\t\tif ( ! $more_sharing_pane.is( ':animated' ) ) {\n\t\t\t\t\t// Create a timer to make the area appear if the mouse hovers for a period\n\t\t\t\t\ttimer = setTimeout( function() {\n\t\t\t\t\t\tvar handler_item_leave, handler_item_enter, handler_original_leave, handler_original_enter, close_it;\n\n\t\t\t\t\t\t$sharing_email.slideUp( 200 );\n\n\t\t\t\t\t\t$more_sharing_pane.data( 'justSlid', true );\n\t\t\t\t\t\t$more_sharing_pane.css( {\n\t\t\t\t\t\t\tleft: $more_sharing_button.position().left + 'px',\n\t\t\t\t\t\t\ttop: $more_sharing_button.position().top + $more_sharing_button.height() + 3 + 'px'\n\t\t\t\t\t\t} ).slideDown( 200, function() {\n\t\t\t\t\t\t\t// Mark the item as have being appeared by the hover\n\t\t\t\t\t\t\t$more_sharing_button.data( 'hasoriginal', true ).data( 'hasitem', false );\n\n\t\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\t\t$more_sharing_pane.data( 'justSlid', false );\n\t\t\t\t\t\t\t}, 300 );\n\n\t\t\t\t\t\t\tif ( $more_sharing_pane.find( '.share-google-plus-1' ).length ) {\n\t\t\t\t\t\t\t\t// The pane needs to stay open for the Google+ Button\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$more_sharing_pane.mouseleave( handler_item_leave ).mouseenter( handler_item_enter );\n\t\t\t\t\t\t\t$more_sharing_button.mouseleave( handler_original_leave ).mouseenter( handler_original_enter );\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t// The following handlers take care of the mouseenter/mouseleave for the share button and the share area - if both are left then we close the share area\n\t\t\t\t\t\thandler_item_leave = function() {\n\t\t\t\t\t\t\t$more_sharing_button.data( 'hasitem', false );\n\n\t\t\t\t\t\t\tif ( $more_sharing_button.data( 'hasoriginal' ) === false ) {\n\t\t\t\t\t\t\t\tvar timer = setTimeout( close_it, 800 );\n\t\t\t\t\t\t\t\t$more_sharing_button.data( 'timer2', timer );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\thandler_item_enter = function() {\n\t\t\t\t\t\t\t$more_sharing_button.data( 'hasitem', true );\n\t\t\t\t\t\t\tclearTimeout( $more_sharing_button.data( 'timer2' ) );\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\thandler_original_leave = function() {\n\t\t\t\t\t\t\t$more_sharing_button.data( 'hasoriginal', false );\n\n\t\t\t\t\t\t\tif ( $more_sharing_button.data( 'hasitem' ) === false ) {\n\t\t\t\t\t\t\t\tvar timer = setTimeout( close_it, 800 );\n\t\t\t\t\t\t\t\t$more_sharing_button.data( 'timer2', timer );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\thandler_original_enter = function() {\n\t\t\t\t\t\t\t$more_sharing_button.data( 'hasoriginal', true );\n\t\t\t\t\t\t\tclearTimeout( $more_sharing_button.data( 'timer2' ) );\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tclose_it = function() {\n\t\t\t\t\t\t\t$more_sharing_pane.data( 'justSlid', true );\n\t\t\t\t\t\t\t$more_sharing_pane.slideUp( 200, function() {\n\t\t\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\t\t\t$more_sharing_pane.data( 'justSlid', false );\n\t\t\t\t\t\t\t\t}, 300 );\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t// Clear all hooks\n\t\t\t\t\t\t\t$more_sharing_button.unbind( 'mouseleave', handler_original_leave ).unbind( 'mouseenter', handler_original_enter );\n\t\t\t\t\t\t\t$more_sharing_pane.unbind( 'mouseleave', handler_item_leave ).unbind( 'mouseenter', handler_item_leave );\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t};\n\t\t\t\t\t}, 200 );\n\n\t\t\t\t\t// Remember the timer so we can detect it on the mouseout\n\t\t\t\t\t$more_sharing_button.data( 'timer', timer );\n\t\t\t\t}\n\t\t\t}, function() {\n\t\t\t\t// Mouse out - remove any timer\n\t\t\t\t$more_sharing_buttons.each( function() {\n\t\t\t\t\tclearTimeout( $( this ).data( 'timer' ) );\n\t\t\t\t} );\n\t\t\t\t$more_sharing_buttons.data( 'timer', false );\n\t\t\t} );\n\t\t} else {\n\t\t\t$( document.body ).addClass( 'jp-sharing-input-touch' );\n\t\t}\n\n\t\t$( document ).click(function() {\n\n\t\t\t// Click outside\n\t\t\t// remove any timer\n\t\t\t$more_sharing_buttons.each( function() {\n\t\t\t\tclearTimeout( $( this ).data( 'timer' ) );\n\t\t\t} );\n\t\t\t$more_sharing_buttons.data( 'timer', false );\n\n\t\t\t// slide down forcibly\n\t\t\t$( '.sharedaddy .inner' ).slideUp();\n\n\t\t});\n\n\t\t// Add click functionality\n\t\t$( '.sharedaddy ul' ).each( function() {\n\n\t\t\tif ( 'yep' === $( this ).data( 'has-click-events' ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t$( this ).data( 'has-click-events', 'yep' );\n\n\t\t\tvar printUrl = function ( uniqueId, urlToPrint ) {\n\t\t\t\t$( 'body:first' ).append( '<iframe style=\"position:fixed;top:100;left:100;height:1px;width:1px;border:none;\" id=\"printFrame-' + uniqueId + '\" name=\"printFrame-' + uniqueId + '\" src=\"' + urlToPrint + '\" onload=\"frames[\\'printFrame-' + uniqueId + '\\'].focus();frames[\\'printFrame-' + uniqueId + '\\'].print();\"></iframe>' );\n\t\t\t};\n\n\t\t\t// Print button\n\t\t\t$( this ).find( 'a.share-print' ).click( function() {\n\t\t\t\tvar ref = $( this ).attr( 'href' ),\n\t\t\t\t\tdo_print = function() {\n\t\t\t\t\t\tif ( ref.indexOf( '#print' ) === -1 ) {\n\t\t\t\t\t\t\tvar uid = new Date().getTime();\n\t\t\t\t\t\t\tprintUrl( uid , ref );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tprint();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t// Is the button in a dropdown?\n\t\t\t\tif ( $( this ).parents( '.sharing-hidden' ).length > 0 ) {\n\t\t\t\t\t$( this ).parents( '.inner' ).slideUp( 0, function() {\n\t\t\t\t\t\tdo_print();\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\tdo_print();\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t} );\n\n\t\t\t// Press This button\n\t\t\t$( this ).find( 'a.share-press-this' ).click( function() {\n\t\t\t\tvar s = '';\n\n\t\t\t\tif ( window.getSelection ) {\n\t\t\t\t\ts = window.getSelection();\n\t\t\t\t} else if( document.getSelection ) {\n\t\t\t\t\ts = document.getSelection();\n\t\t\t\t} else if( document.selection ) {\n\t\t\t\t\ts = document.selection.createRange().text;\n\t\t\t\t}\n\n\t\t\t\tif ( s ) {\n\t\t\t\t\t$( this ).attr( 'href', $( this ).attr( 'href' ) + '&sel=' + encodeURI( s ) );\n\t\t\t\t}\n\n\t\t\t\tif ( !window.open( $( this ).attr( 'href' ), 't', 'toolbar=0,resizable=1,scrollbars=1,status=1,width=720,height=570' ) ) {\n\t\t\t\t\tdocument.location.href = $( this ).attr( 'href' );\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t} );\n\n\t\t\t// Email button\n\t\t\t$( 'a.share-email', this ).on( 'click', function() {\n\t\t\t\tvar url = $( this ).attr( 'href' );\n\t\t\t\tvar currentDomain = window.location.protocol + '//' + window.location.hostname + '/';\n\t\t\t\tif ( url.indexOf( currentDomain ) !== 0 ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tif ( $sharing_email.is( ':visible' ) ) {\n\t\t\t\t\t$sharing_email.slideUp( 200 );\n\t\t\t\t} else {\n\t\t\t\t\t$( '.sharedaddy .inner' ).slideUp();\n\n\t\t\t\t\t$( '#sharing_email .response' ).remove();\n\t\t\t\t\t$( '#sharing_email form' ).show();\n\t\t\t\t\t$( '#sharing_email form input[type=submit]' ).removeAttr( 'disabled' );\n\t\t\t\t\t$( '#sharing_email form a.sharing_cancel' ).show();\n\n\t\t\t\t\t// Reset reCATPCHA if exists.\n\t\t\t\t\tif ( 'object' === typeof grecaptcha && 'function' === typeof grecaptcha.reset && window.___grecaptcha_cfg.count ) {\n\t\t\t\t\t\tgrecaptcha.reset();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Show dialog\n\t\t\t\t\t$sharing_email.css( {\n\t\t\t\t\t\tleft: $( this ).offset().left + 'px',\n\t\t\t\t\t\ttop: $( this ).offset().top + $( this ).height() + 'px'\n\t\t\t\t\t} ).slideDown( 200 );\n\n\t\t\t\t\t// Hook up other buttons\n\t\t\t\t\t$( '#sharing_email a.sharing_cancel' ).unbind( 'click' ).click( function() {\n\t\t\t\t\t\t$( '#sharing_email .errors' ).hide();\n\t\t\t\t\t\t$sharing_email.slideUp( 200 );\n\t\t\t\t\t\t$( '#sharing_background' ).fadeOut();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Submit validation\n\t\t\t\t\t$( '#sharing_email input[type=submit]' ).unbind( 'click' ).click( function() {\n\t\t\t\t\t\tvar form = $( this ).parents( 'form' );\n\t\t\t\t\t\tvar source_email_input = form.find( 'input[name=source_email]' );\n\t\t\t\t\t\tvar target_email_input = form.find( 'input[name=target_email]' );\n\n\t\t\t\t\t\t// Disable buttons + enable loading icon\n\t\t\t\t\t\t$( this ).prop( 'disabled', true );\n\t\t\t\t\t\tform.find( 'a.sharing_cancel' ).hide();\n\t\t\t\t\t\tform.find( 'img.loading' ).show();\n\n\t\t\t\t\t\t$( '#sharing_email .errors' ).hide();\n\t\t\t\t\t\t$( '#sharing_email .error' ).removeClass( 'error' );\n\n\t\t\t\t\t\tif ( ! source_email_input.share_is_email() ) {\n\t\t\t\t\t\t\tsource_email_input.addClass( 'error' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( ! target_email_input.share_is_email() ) {\n\t\t\t\t\t\t\ttarget_email_input.addClass( 'error' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( $( '#sharing_email .error' ).length === 0 ) {\n\t\t\t\t\t\t\t// AJAX send the form\n\t\t\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\tdata: form.serialize(),\n\t\t\t\t\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\t\t\t\t\tform.find( 'img.loading' ).hide();\n\n\t\t\t\t\t\t\t\t\tif ( response === '1' || response === '2' || response === '3' ) {\n\t\t\t\t\t\t\t\t\t\t$( '#sharing_email .errors-' + response ).show();\n\t\t\t\t\t\t\t\t\t\tform.find( 'input[type=submit]' ).removeAttr( 'disabled' );\n\t\t\t\t\t\t\t\t\t\tform.find( 'a.sharing_cancel' ).show();\n\n\t\t\t\t\t\t\t\t\t\tif ( 'object' === typeof grecaptcha && 'function' === typeof grecaptcha.reset ) {\n\t\t\t\t\t\t\t\t\t\t\tgrecaptcha.reset();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t$( '#sharing_email form' ).hide();\n\t\t\t\t\t\t\t\t\t\t$sharing_email.append( response );\n\t\t\t\t\t\t\t\t\t\t$( '#sharing_email a.sharing_cancel' ).click( function() {\n\t\t\t\t\t\t\t\t\t\t\t$sharing_email.slideUp( 200 );\n\t\t\t\t\t\t\t\t\t\t\t$( '#sharing_background' ).fadeOut();\n\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tform.find( 'img.loading' ).hide();\n\t\t\t\t\t\tform.find( 'input[type=submit]' ).removeAttr( 'disabled' );\n\t\t\t\t\t\tform.find( 'a.sharing_cancel' ).show();\n\t\t\t\t\t\t$( '#sharing_email .errors-1' ).show();\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t} );\n\t\t} );\n\n\t\t$( 'li.share-email, li.share-custom a.sharing-anchor' ).addClass( 'share-service-visible' );\n\t}\n})( jQuery );\n"]}