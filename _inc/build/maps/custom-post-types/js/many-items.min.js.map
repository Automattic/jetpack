{"version":3,"sources":["custom-post-types/js/many-items.js"],"names":["$","menuSelector","nonceInput","methods","init","tbody","row","$this","this","on","event","which","preventDefault","FormData","submitRow","apply","addRow","data","parents","find","clone","destroy","off","submittedRow","currentInputs","allInputs","partialFormData","not","attr","end","get","append","val","ajax","url","type","processData","contentType","complete","xhr","html","responseText","appendTo","focus","fn","manyItemsTable","method","Array","prototype","slice","call","arguments","error","clickAddRow","jQuery","one","delegateTarget"],"mappings":";;CAGA,SAAWA,GACV,GAAIC,GAAcC,EAAYC,CAE9BA,IACCC,KAAO,WACN,GAAkBC,GAAOC,EAArBC,EAAQC,IA6BZ,OA3BAA,MACEC,GAAI,0BAA2B,SAAUC,GACpC,KAAOA,EAAMC,QAIlBD,EAAME,iBACD,kBAAsBC,WAC1BV,EAAQW,UAAUC,MAAOR,GAE1BJ,EAAQa,OAAOD,MAAOR,MAEtBE,GAAI,uBAAwB,SAAU,WACtCF,EAAMU,KAAM,aAAcjB,EAAGQ,MAAOU,QAAS,eAG/Cb,EAAQG,KAAKW,KAAM,cACnBb,EAAMD,EAAMc,KAAM,YAAaC,QAE/BZ,KAAKS,KAAM,OAAQT,KAAKU,QAAS,eACjCV,KAAKS,KAAM,QAASZ,GACpBG,KAAKS,KAAM,MAAOX,GAClBE,KAAKS,KAAM,aAAcX,GAEzBL,EAAeD,EAAG,kBAClBE,EAAaF,EAAG,aAETQ,MAGRa,QAAU,WAGT,MAFAb,MAAKc,IAAK,mBAEHd,MAGRM,UAAY,WACX,GAAIS,GAAcC,EAAeC,EAAWC,CAyB5C,OAvBAH,GAAef,KAAKS,KAAM,cAC1BO,EAAgBD,EAAaJ,KAAM,UACnCM,EAAYjB,KAAKS,KAAM,QAASE,KAAM,UAAWQ,IAAKH,GAAgBI,KAAM,YAAY,GAAOC,MAE/FH,EAAkB,GAAIb,UAAUL,KAAKS,KAAM,QAASa,IAAK,IACzDJ,EAAgBK,OAAQ,OAAQ,KAChCL,EAAgBK,OAAQ,gBAAiB9B,EAAa+B,OACtDN,EAAgBK,OAAQ,WAAY7B,EAAW8B,OAE/CP,EAAUG,KAAM,YAAY,GAE5B5B,EAAEiC,MACDC,IAAK,GACLC,KAAM,OACNlB,KAAMS,EACNU,aAAa,EACbC,aAAa,IACVC,SAAU,SAAUC,GACvBhB,EAAaiB,KAAMD,EAAIE,gBAGxBjB,EAAcI,KAAM,YAAY,GAEzBpB,MAGRQ,OAAS,WACR,GAAIV,GAAME,KAAKS,KAAM,OAAQG,OAI7B,OAHAd,GAAIoC,SAAUlC,KAAKS,KAAM,UACzBX,EAAIa,KAAM,gBAAiBwB,QAEpBnC,OAITR,EAAE4C,GAAGC,eAAiB,SAAUC,GAE/B,MAAK3C,GAAQ2C,GACL3C,EAAS2C,GAAS/B,MAAOP,KAAMuC,MAAMC,UAAUC,MAAMC,KAAMC,UAAW,IAChD,gBAAXL,IAAyBA,GAG3C9C,EAAEoD,MAAO,UAAaN,EAAS,4CACxBtC,MAHAL,EAAQC,KAAKW,MAAOP,KAAM2C,YAOnCnD,EAAE4C,GAAGS,YAAc,WAClB,GAAIhD,GAAQG,KAAKW,KAAM,cACtBb,EAAMD,EAAMc,KAAM,YAAaC,OAEhCpB,GAAGM,GAAMa,KAAM,mBAAoBa,IAAK,IACxChC,EAAGM,GAAMoC,SAAUrC,KAGjBiD,QAEJA,OAAQ,qBAAsBC,IAAK,QAAS,SAAU,SAAU7C,GAC/D4C,OAAQ5C,EAAM8C,gBAAiBX,mBAEhCS,OAAQ,qBAAsB7C,GAAI,QAAS,iBAAkB,SAAUC,GACtE4C,OAAQ5C,EAAM8C,gBAAiBH","file":"../../../custom-post-types/js/many-items.min.js","sourcesContent":["/* Do not modify this file directly. It is compiled from other files. */\n/* jshint onevar: false, smarttabs: true */\n\n(function( $ ){\n\tvar menuSelector, nonceInput, methods;\n\n\tmethods = {\n\t\tinit : function( /*options*/ ) {\n\t\t\tvar $this = this, tbody, row;\n\n\t\t\tthis\n\t\t\t\t.on( 'keypress.manyItemsTable', function( event ) {\n\t\t\t\t\tif ( 13 !== event.which ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tif ( 'function' === typeof FormData ) {\n\t\t\t\t\t\tmethods.submitRow.apply( $this );\n\t\t\t\t\t}\n\t\t\t\t\tmethods.addRow.apply( $this );\n\t\t\t\t} )\n\t\t\t\t.on( 'focus.manyItemsTable', ':input', function( /*event*/ ) {\n\t\t\t\t\t$this.data( 'currentRow', $( this ).parents( 'tr:first' ) );\n\t\t\t\t} );\n\n\t\t\ttbody = this.find( 'tbody:last' );\n\t\t\trow = tbody.find( 'tr:first' ).clone();\n\n\t\t\tthis.data( 'form', this.parents( 'form:first' ) );\n\t\t\tthis.data( 'tbody', tbody );\n\t\t\tthis.data( 'row', row );\n\t\t\tthis.data( 'currentRow', row );\n\n\t\t\tmenuSelector = $( '#nova-menu-tax' );\n\t\t\tnonceInput = $( '#_wpnonce' );\n\n\t\t\treturn this;\n\t\t},\n\n\t\tdestroy : function() {\n\t\t\tthis.off( '.manyItemsTable' );\n\n\t\t\treturn this;\n\t\t},\n\n\t\tsubmitRow : function() {\n\t\t\tvar submittedRow, currentInputs, allInputs, partialFormData;\n\n\t\t\tsubmittedRow = this.data( 'currentRow' );\n\t\t\tcurrentInputs = submittedRow.find( ':input' );\n\t\t\tallInputs = this.data( 'form' ).find( ':input' ).not( currentInputs ).attr( 'disabled', true ).end();\n\n\t\t\tpartialFormData = new FormData( this.data( 'form' ).get( 0 ) );\n\t\t\tpartialFormData.append( 'ajax', '1' );\n\t\t\tpartialFormData.append( 'nova_menu_tax', menuSelector.val() );\n\t\t\tpartialFormData.append( '_wpnonce', nonceInput.val() );\n\n\t\t\tallInputs.attr( 'disabled', false );\n\n\t\t\t$.ajax( {\n\t\t\t\turl: '',\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: partialFormData,\n\t\t\t\tprocessData: false,\n\t\t\t\tcontentType: false\n\t\t\t} ).complete( function( xhr ) {\n\t\t\t\tsubmittedRow.html( xhr.responseText );\n\t\t\t} );\n\n\t\t\tcurrentInputs.attr( 'disabled', true );\n\n\t\t\treturn this;\n\t\t},\n\n\t\taddRow : function() {\n\t\t\tvar row = this.data( 'row' ).clone();\n\t\t\trow.appendTo( this.data( 'tbody' ) );\n\t\t\trow.find( ':input:first' ).focus();\n\n\t\t\treturn this;\n\t\t}\n\t};\n\n\t$.fn.manyItemsTable = function( method ) {\n\t\t// Method calling logic\n\t\tif ( methods[method] ) {\n\t\t\treturn methods[ method ].apply( this, Array.prototype.slice.call( arguments, 1 ) );\n\t\t} else if ( typeof method === 'object' || ! method ) {\n\t\t\treturn methods.init.apply( this, arguments );\n\t\t} else {\n\t\t\t$.error( 'Method ' +  method + ' does not exist on jQuery.manyItemsTable' );\n\t\t\treturn this;\n\t\t}\n\t};\n\n\t$.fn.clickAddRow = function() {\n\t\tvar tbody = this.find( 'tbody:last' ),\n\t\t\trow = tbody.find( 'tr:first' ).clone();\n\n\t\t$( row ).find( 'input, textarea' ).val( '' );\n\t\t$( row ).appendTo( tbody );\n\t};\n\n})( jQuery );\n\njQuery( '.many-items-table' ).one( 'focus', ':input', function( event ) {\n\tjQuery( event.delegateTarget ).manyItemsTable();\n} );\njQuery( '.many-items-table' ).on( 'click', 'a.nova-new-row', function( event ) {\n\tjQuery( event.delegateTarget ).clickAddRow();\n} );\n\n"]}