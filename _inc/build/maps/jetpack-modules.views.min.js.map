{"version":3,"sources":["jetpack-modules.views.js"],"names":["this","jetpackModules","window","views","$","_","Backbone","wp","List_Table","View","extend","template","updateUrl","history","replaceState","url","location","href","split","m_tag","m_filter","m_sort","m_search","val","length","encodeURIComponent","hasClass","data","render","model","filter_and_sort","$el","html","attributes","initialize","listenTo","jQuery"],"mappings":";AAEAA,KAAKC,eAAiBD,KAAKC,mBAE3BC,OAAOD,eAAeE,MAAQ,SAAWD,EAAQE,EAAGC,EAAGC,EAAUC,GAC/D,YAEA,IAAIJ,KAqDJ,OAnDAA,GAAMK,WAAaF,EAASG,KAAKC,QAEhCC,SAAWJ,EAAGI,SAAU,uCAMxBC,UAAY,WACX,GAAOV,EAAOW,QAAQC,aAAtB,CAIA,GAAIC,GAAWb,EAAOc,SAASC,KAAKC,MAAM,KAAK,GAAK,wBACnDC,EAAWf,EAAE,uBACbgB,EAAWhB,EAAE,uCACbiB,EAAWjB,EAAE,8BACbkB,EAAWlB,EAAE,2BAA2BmB,KAEpCD,GAASE,SACbT,GAAO,MAAQU,mBAAoBH,IAG7BH,EAAMO,SAAS,SACrBX,GAAO,eAAiBU,mBAAoBN,EAAMQ,KAAK,WAGnDP,EAASO,KAAK,eAClBZ,GAAO,IAAMU,mBAAoBL,EAASO,KAAK,cAAiB,IAAMF,mBAAoBL,EAASO,KAAK,kBAGpG,SAAWN,EAAOM,KAAK,aAC3BZ,GAAO,YAAcU,mBAAoBJ,EAAOM,KAAK,aAGtDzB,EAAOW,QAAQC,gBAAkB,GAAIC,KAGtCa,OAAS,WAIR,MAHA5B,MAAK6B,MAAMC,kBACX9B,KAAK+B,IAAIC,KAAMhC,KAAKW,SAAUX,KAAK6B,MAAMI,aACzCjC,KAAKY,YACEZ,MAGRkC,WAAa,WACZlC,KAAKmC,SAAUnC,KAAK6B,MAAO,SAAU7B,KAAK4B,WAKrCzB,GAELH,KAAMoC,OAAQ/B,EAAGC,SAAUC","file":"../jetpack-modules.views.min.js","sourcesContent":["/* Do not modify this file directly. It is compiled from other files. */\n\nthis.jetpackModules = this.jetpackModules || {};\n\nwindow.jetpackModules.views = (function( window, $, _, Backbone, wp ) {\n\t\t'use strict';\n\n\t\tvar views = {};\n\n\t\tviews.List_Table = Backbone.View.extend({\n\n\t\t\ttemplate : wp.template( 'Jetpack_Modules_List_Table_Template' ),\n\n\t\t\t/**\n\t\t\t * If we can, use replaceState to change the URL and indicate the new filtering.\n\t\t\t * This will be handy with redirecting back to the same state after activating/deactivating.\n\t\t\t */\n\t\t\tupdateUrl : function() {\n\t\t\t\tif ( ! window.history.replaceState ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar url      = window.location.href.split('?')[0] + '?page=jetpack_modules',\n\t\t\t\t\tm_tag    = $('.subsubsub .current'),\n\t\t\t\t\tm_filter = $('.button-group.filter-active .active'),\n\t\t\t\t\tm_sort   = $('.button-group.sort .active'),\n\t\t\t\t\tm_search = $('#srch-term-search-input').val();\n\n\t\t\t\tif ( m_search.length ) {\n\t\t\t\t\turl += '&s=' + encodeURIComponent( m_search );\n\t\t\t\t}\n\n\t\t\t\tif ( ! m_tag.hasClass('all') ) {\n\t\t\t\t\turl += '&module_tag=' + encodeURIComponent( m_tag.data('title') );\n\t\t\t\t}\n\n\t\t\t\tif ( m_filter.data('filter-by') ) {\n\t\t\t\t\turl += '&' + encodeURIComponent( m_filter.data('filter-by') ) + '=' + encodeURIComponent( m_filter.data('filter-value') );\n\t\t\t\t}\n\n\t\t\t\tif ( 'name' !== m_sort.data('sort-by') ) {\n\t\t\t\t\turl += '&sort_by=' + encodeURIComponent( m_sort.data('sort-by') );\n\t\t\t\t}\n\n\t\t\t\twindow.history.replaceState( {}, '', url );\n\t\t\t},\n\n\t\t\trender : function() {\n\t\t\t\tthis.model.filter_and_sort();\n\t\t\t\tthis.$el.html( this.template( this.model.attributes ) );\n\t\t\t\tthis.updateUrl();\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\tinitialize : function() {\n\t\t\t\tthis.listenTo( this.model, 'change', this.render );\n\t\t\t}\n\n\t\t});\n\n\t\treturn views;\n\n})( this, jQuery, _, Backbone, wp );\n"]}