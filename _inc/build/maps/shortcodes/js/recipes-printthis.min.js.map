{"version":3,"sources":["shortcodes/js/recipes-printthis.js"],"names":["$","opt","fn","printThis","options","extend","defaults","$element","this","jQuery","strFrameName","Date","getTime","window","location","hostname","document","domain","navigator","userAgent","match","iframeSrc","printI","createElement","name","id","className","body","appendChild","src","appendTo","$iframe","debug","css","position","width","height","left","top","setTimeout","doctypeString","doctype","win","doc","get","contentWindow","contentDocument","open","write","close","baseURL","$doc","contents","$head","find","$body","$base","base","length","attr","protocol","host","append","importCSS","each","href","media","importStyle","clone","pageTitle","loadCSS","isArray","index","value","header","canvas","canvasId","printContainer","outer","html","cid","data","$src","getContext","drawImage","removeData","formValues","$input","$this","$name","$checker","is","$iframeInput","$value","val","$select","$textarea","removeInline","isFunction","removeAttr","footer","hasClass","frames","focus","queryCommandSupported","execCommand","print","remove","printDelay"],"mappings":"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","file":"../../../shortcodes/js/recipes-printthis.min.js","sourcesContent":["/* Do not modify this file directly. It is compiled from other files. */\n// jshint ignore: start\n/*\n * printThis v1.9.0\n * @desc Printing plug-in for jQuery\n * @author Jason Day\n *\n * Resources (based on) :\n *              jPrintArea: http://plugins.jquery.com/project/jPrintArea\n *              jqPrint: https://github.com/permanenttourist/jquery.jqprint\n *              Ben Nadal: http://www.bennadel.com/blog/1591-Ask-Ben-Print-Part-Of-A-Web-Page-With-jQuery.htm\n *\n * Licensed under the MIT licence:\n *              http://www.opensource.org/licenses/mit-license.php\n *\n * (c) Jason Day 2015\n *\n * Usage:\n *\n *  $(\"#mySelector\").printThis({\n *      debug: false,               * show the iframe for debugging\n *      importCSS: true,            * import page CSS\n *      importStyle: false,         * import style tags\n *      printContainer: true,       * grab outer container as well as the contents of the selector\n *      loadCSS: \"path/to/my.css\",  * path to additional css file - us an array [] for multiple\n *      pageTitle: \"\",              * add title to print page\n *      removeInline: false,        * remove all inline styles from print elements\n *      printDelay: 333,            * variable print delay\n *      header: null,               * prefix to html\n *      footer: null,               * postfix to html\n *      base: false,                * preserve the BASE tag, or accept a string for the URL\n *      formValues: true            * preserve input/form values\n *      canvas: false               * copy canvas elements (experimental)\n *      doctypeString: '...'        * enter a different doctype for older markup\n *  });\n *\n * Notes:\n *  - the loadCSS will load additional css (with or without @media print) into the iframe, adjusting layout\n * \n * jshint onevar: false, smarttabs: true, devel: true\n */\n;\n(function($) {\n    var opt;\n    $.fn.printThis = function(options) {\n        opt = $.extend({}, $.fn.printThis.defaults, options);\n        var $element = this instanceof jQuery ? this : $(this);\n\n        var strFrameName = \"printThis-\" + (new Date()).getTime();\n\n        if (window.location.hostname !== document.domain && navigator.userAgent.match(/msie/i)) {\n            // Ugly IE hacks due to IE not inheriting document.domain from parent\n            // checks if document.domain is set by comparing the host name against document.domain\n            var iframeSrc = \"javascript:document.write(\\\"<head><script>document.domain=\\\\\\\"\" + document.domain + \"\\\\\\\";</s\" + \"cript></head><body></body>\\\")\";\n            var printI = document.createElement('iframe');\n            printI.name = \"printIframe\";\n            printI.id = strFrameName;\n            printI.className = \"MSIE\";\n            document.body.appendChild(printI);\n            printI.src = iframeSrc;\n\n        } else {\n            // other browsers inherit document.domain, and IE works if document.domain is not explicitly set\n            var $frame = $(\"<iframe id='\" + strFrameName + \"' name='printIframe' />\");\n            $frame.appendTo(\"body\");\n        }\n\n\n        var $iframe = $(\"#\" + strFrameName);\n\n        // show frame if in debug mode\n        if (!opt.debug) $iframe.css({\n            position: \"absolute\",\n            width: \"0px\",\n            height: \"0px\",\n            left: \"-600px\",\n            top: \"-600px\"\n        });\n\n        // $iframe.ready() and $iframe.load were inconsistent between browsers    \n        setTimeout(function() {\n\n            // Add doctype to fix the style difference between printing and render\n            function setDocType($iframe,doctype){\n                var win, doc;\n                win = $iframe.get(0);\n                win = win.contentWindow || win.contentDocument || win;\n                doc = win.document || win.contentDocument || win;\n                doc.open();\n                doc.write(doctype);\n                doc.close();\n            }\n            if(opt.doctypeString){\n                setDocType($iframe,opt.doctypeString);\n            }\n\n            var $doc = $iframe.contents(),\n                $head = $doc.find(\"head\"),\n                $body = $doc.find(\"body\"),\n                $base = $('base'),\n                baseURL;\n\n            // add base tag to ensure elements use the parent domain\n            if (opt.base === true && $base.length > 0) {\n                // take the base tag from the original page\n                baseURL = $base.attr('href');\n            } else if (typeof opt.base === 'string') {\n                // An exact base string is provided\n                baseURL = opt.base;\n            } else {\n                // Use the page URL as the base\n                baseURL = document.location.protocol + '//' + document.location.host;\n            }\n\n            $head.append('<base href=\"' + baseURL + '\">');\n\n            // import page stylesheets\n            if (opt.importCSS) $(\"link[rel=stylesheet]\").each(function() {\n                var href = $(this).attr(\"href\");\n                if (href) {\n                    var media = $(this).attr(\"media\") || \"all\";\n                    $head.append(\"<link type='text/css' rel='stylesheet' href='\" + href + \"' media='\" + media + \"'>\");\n                }\n            });\n            \n            // import style tags\n            if (opt.importStyle) $(\"style\").each(function() {\n                $(this).clone().appendTo($head);\n            });\n\n            // add title of the page\n            if (opt.pageTitle) $head.append(\"<title>\" + opt.pageTitle + \"</title>\");\n\n            // import additional stylesheet(s)\n            if (opt.loadCSS) {\n               if( $.isArray(opt.loadCSS)) {\n                    jQuery.each(opt.loadCSS, function(index, value) {\n                       $head.append(\"<link type='text/css' rel='stylesheet' href='\" + this + \"'>\");\n                    });\n                } else {\n                    $head.append(\"<link type='text/css' rel='stylesheet' href='\" + opt.loadCSS + \"'>\");\n                }\n            }\n\n            // print header\n            if (opt.header) $body.append(opt.header);\n\n            if (opt.canvas) {\n                // add canvas data-ids for easy access after the cloning.\n                var canvasId = 0;\n                $element.find('canvas').each(function(){\n                    $(this).attr('data-printthis', canvasId++);\n                });\n            }\n\n            // grab $.selector as container\n            if (opt.printContainer) $body.append($element.outer());\n\n            // otherwise just print interior elements of container\n            else $element.each(function() {\n                $body.append($(this).html());\n            });\n\n            if (opt.canvas) {\n                // Re-draw new canvases by referencing the originals\n                $body.find('canvas').each(function(){\n                    var cid = $(this).data('printthis'),\n                        $src = $('[data-printthis=\"' + cid + '\"]');\n\n                    this.getContext('2d').drawImage($src[0], 0, 0);\n\n                    // Remove the mark-up from the original\n                    $src.removeData('printthis');\n                });\n            }\n\n            // capture form/field values\n            if (opt.formValues) {\n                // loop through inputs\n                var $input = $element.find('input');\n                if ($input.length) {\n                    $input.each(function() {\n                        var $this = $(this),\n                            $name = $(this).attr('name'),\n                            $checker = $this.is(':checkbox') || $this.is(':radio'),\n                            $iframeInput = $doc.find('input[name=\"' + $name + '\"]'),\n                            $value = $this.val();\n\n                        // order matters here\n                        if (!$checker) {\n                            $iframeInput.val($value);\n                        } else if ($this.is(':checked')) {\n                            if ($this.is(':checkbox')) {\n                                $iframeInput.attr('checked', 'checked');\n                            } else if ($this.is(':radio')) {\n                                $doc.find('input[name=\"' + $name + '\"][value=\"' + $value + '\"]').attr('checked', 'checked');\n                            }\n                        }\n\n                    });\n                }\n\n                // loop through selects\n                var $select = $element.find('select');\n                if ($select.length) {\n                    $select.each(function() {\n                        var $this = $(this),\n                            $name = $(this).attr('name'),\n                            $value = $this.val();\n                        $doc.find('select[name=\"' + $name + '\"]').val($value);\n                    });\n                }\n\n                // loop through textareas\n                var $textarea = $element.find('textarea');\n                if ($textarea.length) {\n                    $textarea.each(function() {\n                        var $this = $(this),\n                            $name = $(this).attr('name'),\n                            $value = $this.val();\n                        $doc.find('textarea[name=\"' + $name + '\"]').val($value);\n                    });\n                }\n            } // end capture form/field values\n\n            // remove inline styles\n            if (opt.removeInline) {\n                // $.removeAttr available jQuery 1.7+\n                if ($.isFunction($.removeAttr)) {\n                    $doc.find(\"body *\").removeAttr(\"style\");\n                } else {\n                    $doc.find(\"body *\").attr(\"style\", \"\");\n                }\n            }\n\n            // print \"footer\"\n            if (opt.footer) $body.append(opt.footer);\n\n            setTimeout(function() {\n                if ($iframe.hasClass(\"MSIE\")) {\n                    // check if the iframe was created with the ugly hack\n                    // and perform another ugly hack out of neccessity\n                    window.frames[\"printIframe\"].focus();\n                    $head.append(\"<script>  window.print(); </s\" + \"cript>\");\n                } else {\n                    // proper method\n                    if (document.queryCommandSupported(\"print\")) {\n                        $iframe[0].contentWindow.document.execCommand(\"print\", false, null);\n                    } else {\n                        $iframe[0].contentWindow.focus();\n                        $iframe[0].contentWindow.print();\n                    }\n                }\n\n                // remove iframe after print\n                if (!opt.debug) {\n                    setTimeout(function() {\n                        $iframe.remove();\n                    }, 1000);\n                }\n\n            }, opt.printDelay);\n\n        }, 333);\n\n    };\n\n    // defaults\n    $.fn.printThis.defaults = {\n        debug: false,           // show the iframe for debugging\n        importCSS: true,        // import parent page css\n        importStyle: false,     // import style tags\n        printContainer: true,   // print outer container/$.selector\n        loadCSS: \"\",            // load an additional css file - load multiple stylesheets with an array []\n        pageTitle: \"\",          // add title to print page\n        removeInline: false,    // remove all inline styles\n        printDelay: 333,        // variable print delay\n        header: null,           // prefix to html\n        footer: null,           // postfix to html\n        formValues: true,       // preserve input/form values\n        canvas: false,          // Copy canvas content (experimental)\n        base: false,            // preserve the BASE tag, or accept a string for the URL\n        doctypeString: '<!DOCTYPE html>' // html doctype\n    };\n\n    // $.selector container\n    jQuery.fn.outer = function() {\n        return $($(\"<div></div>\").html(this.clone())).html();\n    }\n})(jQuery);\n"]}