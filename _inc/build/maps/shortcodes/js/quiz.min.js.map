{"version":3,"sources":["shortcodes/js/quiz.js"],"names":["$","fn","shuffleQuiz","allElems","this","get","getRandom","max","Math","floor","random","shuffled","map","length","randEl","clone","splice","each","i","replaceWith","jQuery","quiz","find","removeAttr","data","addClass","on","trackid","answer","closest","Image","src"],"mappings":";CACA,SAAUA,GACTA,EAAEC,GAAGC,YAAc,WACZ,GAAIC,GAAWC,KAAKC,MAChBC,EAAY,SAASC,GACjB,MAAOC,MAAKC,MAAMD,KAAKE,SAAWH,IAEtCI,EAAWX,EAAEY,IAAIT,EAAU,WACvB,GAAIO,GAASJ,EAAUH,EAASU,QAC5BC,EAASd,EAAEG,EAASO,IAASK,OAAM,GAAM,EAE7C,OADAZ,GAASa,OAAON,EAAQ,GACjBI,GAOf,OAJAV,MAAKa,KAAK,SAASC,GACflB,EAAEI,MAAMe,YAAYnB,EAAEW,EAASO,OAG5BlB,EAAEW,KAEdS,QAEHA,OAAQ,SAAUpB,GACjBA,EAAG,iBAAkBiB,KAAM,WAC1B,GAAII,GAAOrB,EAAEI,KACbiB,GAAKC,KAAM,2BAA4BpB,cACvCmB,EAAKC,KAAM,qBAAsBC,WAAY,gBAAiBC,KAAM,UAAW,GAC/EH,EAAKC,KAAM,gCAAiCG,SAAU,UAGvDzB,EAAG,oBAAqB0B,GAAI,QAAS,0BAA2B,WAC/D,GAAIC,GAASC,EAAS5B,EAAGI,MACxBiB,EAAOO,EAAOC,QAAS,mBAElBR,GAAKG,KAAM,kBAChB,GAAIM,QAAQC,IAAM,sDAAwDV,EAAKG,KAAM,YAAe,IAAMH,EAAKG,KAAM,eAAkB,SAAWhB,KAAKE,SACvJW,EAAKG,KAAM,eAAe,GAC1BH,EAAKG,KAAM,WAAW,IAGvBG,EAAUN,EAAKG,KAAM,WAChBI,EAAOJ,KAAM,YACjBI,EAAOH,SAAU,WACZE,KACJ,GAAIG,QAAQC,IAAM,6CAA+CJ,EAAU,iBAAmBnB,KAAKE,YAGpGkB,EAAOH,SAAU,SACZE,KACJ,GAAIG,QAAQC,IAAM,6CAA+CJ,EAAU,eAAiBnB,KAAKE,WAInGW,EAAKG,KAAM,WAAW","file":"../../../shortcodes/js/quiz.min.js","sourcesContent":["/* Do not modify this file directly. It is compiled from other files. */\n(function($){\n\t$.fn.shuffleQuiz = function() {\n        var allElems = this.get(),\n            getRandom = function(max) {\n                return Math.floor(Math.random() * max);\n            },\n            shuffled = $.map(allElems, function(){\n                var random = getRandom(allElems.length),\n                    randEl = $(allElems[random]).clone(true)[0];\n                allElems.splice(random, 1);\n                return randEl;\n           });\n\n        this.each(function(i){\n            $(this).replaceWith($(shuffled[i]));\n        });\n\n        return $(shuffled);\n\t};\n})(jQuery);\n\njQuery( function( $ ) {\n\t$( '.jetpack-quiz' ).each( function() {\n\t\tvar quiz = $(this);\n\t\tquiz.find( 'div.jetpack-quiz-answer' ).shuffleQuiz();\n\t\tquiz.find( 'div[data-correct]' ).removeAttr( 'data-correct' ).data( 'correct', 1 );\n\t\tquiz.find( 'div.jetpack-quiz-answer:last' ).addClass( 'last' );\n\t});\n\n\t$( 'div.jetpack-quiz' ).on( 'click', 'div.jetpack-quiz-answer', function() {\n\t\tvar trackid, answer = $( this ),\n\t\t\tquiz = answer.closest( 'div.jetpack-quiz' );\n\n\t\tif  ( quiz.data( 'a8ctraining' ) ) {\n\t\t\tnew Image().src = '//pixel.wp.com/b.gif?v=wpcom-no-pv&x_trainingchaos-' + quiz.data( 'username' ) + '=' + quiz.data( 'a8ctraining' ) + '&rand=' + Math.random();\n\t\t\tquiz.data( 'a8ctraining', false );\n\t\t\tquiz.data( 'trackid', false );\n\t\t}\n\n\t\ttrackid = quiz.data( 'trackid' );\n\t\tif ( answer.data( 'correct' ) ) {\n\t\t\tanswer.addClass( 'correct' );\n\t\t\tif ( trackid ) {\n\t\t\t\tnew Image().src = '//pixel.wp.com/b.gif?v=wpcom-no-pv&x_quiz-' + trackid + '=correct&rand=' + Math.random();\n\t\t\t}\n\t\t} else {\n\t\t\tanswer.addClass( 'wrong' );\n\t\t\tif ( trackid ) {\n\t\t\t\tnew Image().src = '//pixel.wp.com/b.gif?v=wpcom-no-pv&x_quiz-' + trackid + '=wrong&rand=' + Math.random();\n\t\t\t}\n\t\t}\n\t\t// only track the first answer\n\t\tquiz.data( 'trackid', false );\n\t});\n} );\n"]}