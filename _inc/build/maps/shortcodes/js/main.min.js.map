{"version":3,"sources":["shortcodes/js/main.js"],"names":["$","Presentation","wrapper","_self","duration","new_css","ie_regex","matches","this","slideshow","navLeft","navRight","expandButton","overlay","fullscreen","autoPlaying","autoplayTime","parseFloat","attr","css","width","height","jmpressOpts","animation","transitionDuration","-webkit-transition","-moz-transition","-ms-transition","-o-transition","transition","each","i","step","window","resize","resizePresentation","on","jmpress","setAutoplay","exec","navigator","userAgent","parseInt","remove","setFullscreen","event","which","hash","use","mouse","clickSelects","keyboard","presentationMode","stepSelector","defaultValue","extend","prototype","scale","settings","widthScale","heightScale","top","left","zoom","Math","min","-moz-transform","-ms-transform","transform","scrollVert","scrollTop","scrollHoriz","scrollLeft","toggleClass","parents","e","newAutoplayTime","document","ready","map","jQuery"],"mappings":"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","file":"../../../shortcodes/js/main.min.js","sourcesContent":["/* Do not modify this file directly. It is compiled from other files. */\n(function($){\n\tvar jmpressOpts = {\n\t\tfullscreen       : false,\n\t\thash             : { use : false },\n\t\tmouse            : { clickSelects : false },\n\t\tkeyboard         : { use : true },\n\t\tanimation        : { transitionDuration : '1s' },\n\t\tpresentationMode : false,\n\t\tstepSelector     : '.step',\n\t\tduration : {\n\t\t\tdefaultValue: 0\n\t\t}\n\t};\n\n\t/**\n\t * Presentation constructor\n\t */\n\tfunction Presentation (wrapper) {\n\t\tvar _self, duration, new_css, ie_regex, matches;\n\n\t\t_self = this;\n\n\t\t_self.wrapper      = $(wrapper);                  // The wrapper for toggling fullscreen\n\t\t_self.slideshow    = $('.presentation', wrapper); // Holds the slides for jmpress\n\t\t_self.navLeft      = $('.nav-arrow-left', wrapper);\n\t\t_self.navRight     = $('.nav-arrow-right', wrapper);\n\t\t_self.expandButton = $('.nav-fullscreen-button', wrapper);\n\t\t_self.overlay      = $('.autoplay-overlay', wrapper);\n\t\t_self.fullscreen   = false;\n\t\t_self.autoPlaying  = false;\n\t\t_self.autoplayTime = parseFloat(_self.slideshow.attr('data-autoplay'), 10) || 0;\n\n\t\t// The wrapper is scaled to the contents' size so that its border wraps tightly\n\t\t_self.wrapper.css({\n\t\t\twidth: _self.slideshow.width(),\n\t\t\theight: _self.slideshow.height()\n\t\t});\n\n\t\tduration = _self.slideshow.attr('duration') || '1s';\n\t\tjmpressOpts.animation.transitionDuration = duration;\n\n\t\t// Compensate for transition times\n\t\tif( _self.autoplayTime ) {\n\t\t\t_self.autoplayTime += parseFloat(duration, 10) * 1000;\n\t\t}\n\n\t\t// Set the opacity transition duration\n\t\t// as it is delegated by css and not jmpress\n\t\tduration = 'opacity ' + duration;\n\t\tnew_css = {\n\t\t\t'width'             : _self.slideshow.width(),\n\t\t\t'height'            : _self.slideshow.height(),\n\t\t\t'-webkit-transition': duration,\n\t\t\t'-moz-transition'   : duration,\n\t\t\t'-ms-transition'    : duration,\n\t\t\t'-o-transition'     : duration,\n\t\t\t'transition'        : duration\n\t\t};\n\n\t\t$('.step', _self.slideshow).each(function(i, step) {\n\t\t\t$(step).css(new_css);\n\t\t});\n\n\t\t// Apply attribute to allow fading individual bullets here,\n\t\t// otherwise wp_kses will strip the attribute out\n\t\t$('.step.fadebullets li', _self.slideshow).each(function(i, step) {\n\t\t\t$(step).attr('data-jmpress', 'fade');\n\t\t});\n\n\t\t// Register resizing to window when fullscreen\n\t\t$(window).resize(function() {\n\t\t\tif ( _self.fullscreen ) {\n\t\t\t\t_self.resizePresentation();\n\t\t\t}\n\t\t});\n\n\t\t// Register the nav bars to move the slides\n\t\t_self.navLeft.on('click', function(){\n\t\t\t_self.slideshow.jmpress('prev');\n\t\t\t_self.overlay.css('opacity', 0);\n\t\t\treturn false;\n\t\t});\n\n\t\t_self.navRight.on('click', function(){\n\t\t\t_self.slideshow.jmpress('next');\n\t\t\t_self.overlay.css('opacity', 0);\n\t\t\treturn false;\n\t\t});\n\n\t\t_self.slideshow.on('click', function() {\n\t\t\t_self.setAutoplay(true);\n\t\t\treturn false;\n\t\t});\n\n\t\t_self.slideshow.on('focusout', function() {\n\t\t\t_self.setAutoplay(false);\n\t\t});\n\n\t\t// Register toggling fullscreen except for IE 9 or lower\n\t\tie_regex = /MSIE\\s(\\d+)\\.\\d+/;\n\t\tmatches = ie_regex.exec(navigator.userAgent);\n\n\t\tif ( matches && parseInt(matches[1], 10) < 10 ) {\n\t\t\t_self.expandButton.remove();\n\t\t\t_self.expandButton = null;\n\t\t} else {\n\t\t\t_self.expandButton.on('click', function() {\n\t\t\t\t_self.setFullscreen( !_self.fullscreen );\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\n\t\t// Register ESC key to exit fullscreen\n\t\t$(window).on('keydown', function( event ) {\n\t\t\tif ( event.which === 27 ) {\n\t\t\t\t_self.setFullscreen( false );\n\t\t\t}\n\t\t});\n\n\t\t// Start the presentation\n\t\t_self.slideshow.jmpress(jmpressOpts);\n\n\t\t// Make content visible and remove error message on jmpress success\n\t\tif ( _self.slideshow.jmpress('initialized') ) {\n\t\t\t_self.slideshow.css('display', '');\n\t\t\t_self.overlay.css('display', '');\n\t\t\t$('.not-supported-msg', _self.wrapper).remove();\n\t\t}\n\n\t\t// A bug in Firefox causes issues with the nav arrows appearing\n\t\t// on hover in presentation mode. Explicitly disabling fullscreen\n\t\t// on init seems to fix the issue\n\t\t_self.setFullscreen( false );\n\t}\n\n\t$.extend( Presentation.prototype, {\n\t\tresizePresentation: function () {\n\t\t\tvar scale, duration, settings, new_css, widthScale, heightScale;\n\n\t\t\t// Set the animation duration to 0 during resizing\n\t\t\t// so that there isn't an animation delay when scaling\n\t\t\t// up the slide contents\n\t\t\tsettings = this.slideshow.jmpress('settings');\n\t\t\tduration = settings.animation.transitionDuration;\n\n\t\t\tsettings.animation.transitionDuration = '0s';\n\t\t\tthis.slideshow.jmpress('reselect');\n\n\t\t\tscale   = 1;\n\t\t\tnew_css = {\n\t\t\t\ttop   : 0,\n\t\t\t\tleft  : 0,\n\t\t\t\tzoom  : 1\n\t\t\t};\n\n\t\t\t// Expand the presentation to fill the lesser of the max width or height\n\t\t\t// This avoids content moving past the window for certain window sizes\n\t\t\tif ( this.fullscreen ) {\n\t\t\t\twidthScale  = $(window).width()  / this.slideshow.width();\n\t\t\t\theightScale = $(window).height() / this.slideshow.height();\n\n\t\t\t\tscale = Math.min(widthScale, heightScale);\n\n\t\t\t\tnew_css.top  = ( $(window).height() - (scale * this.slideshow.height()) ) / 2;\n\t\t\t\tnew_css.left = ( $(window).width()  - (scale * this.slideshow.width() ) ) / 2;\n\t\t\t}\n\n\t\t\t// Firefox does not support the zoom property; IE does, but it does not work\n\t\t\t// well like in webkit, so we manually transform and position the slideshow\n\t\t\tif ( this.slideshow.css('-moz-transform') || this.slideshow.css('-ms-transform') ) {\n\t\t\t\t// Firefox keeps the center of the element in place and expands outward\n\t\t\t\t// so we must shift everything to compensate\n\t\t\t\tnew_css.top  += (scale - 1) * this.slideshow.height() / 2;\n\t\t\t\tnew_css.left += (scale - 1) * this.slideshow.width()  / 2;\n\n\t\t\t\tscale = 'scale(' + scale + ')';\n\n\t\t\t\t$.extend(new_css, {\n\t\t\t\t\t'-moz-transform'   : scale,\n\t\t\t\t\t'-ms-transform'    : scale,\n\t\t\t\t\t'transform'        : scale\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// webkit scales everything with zoom so we need to offset the right amount\n\t\t\t\t// so that the content is vertically centered after scaling effects\n\t\t\t\tnew_css.top  /= scale;\n\t\t\t\tnew_css.left /= scale;\n\t\t\t\tnew_css.zoom  = scale;\n\t\t\t}\n\n\t\t\tthis.slideshow.css(new_css);\n\n\t\t\tsettings.animation.transitionDuration = duration;\n\t\t\tthis.slideshow.jmpress('reselect');\n\t\t},\n\n\t\tsetFullscreen: function ( on ) {\n\t\t\tthis.fullscreen = on;\n\t\t\tthis.setAutoplay(false);\n\n\t\t\t// Save the scroll positions before going into fullscreen mode\n\t\t\tif ( on ) {\n\t\t\t\tthis.scrollVert  = $(window).scrollTop();\n\t\t\t\tthis.scrollHoriz = $(window).scrollLeft();\n\n\t\t\t\t// Chrome Bug: Force scroll to be at top\n\t\t\t\t// otherwise the presentation can end up offscreen\n\t\t\t\t$(window).scrollTop(0);\n\t\t\t\t$(window).scrollLeft(0);\n\t\t\t}\n\n\t\t\t$('html').toggleClass('presentation-global-fullscreen', on);\n\t\t\t$('body').toggleClass('presentation-global-fullscreen', on);\n\n\t\t\tthis.wrapper.toggleClass('presentation-wrapper-fullscreen', on);\n\n\t\t\tthis.wrapper.parents().each(function(i, e){\n\t\t\t\t$(e).toggleClass('presentation-wrapper-fullscreen-parent', on);\n\t\t\t});\n\n\t\t\tthis.resizePresentation();\n\n\t\t\t// Reset the scroll positions after exiting fullscreen mode\n\t\t\tif ( !on ) {\n\t\t\t\t$(window).scrollTop(this.scrollVert);\n\t\t\t\t$(window).scrollLeft(this.scrollHoriz);\n\t\t\t}\n\t\t},\n\n\t\tsetAutoplay: function ( on ) {\n\t\t\tvar _self = this, newAutoplayTime;\n\n\t\t\tif ( _self.autoPlaying === on ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnewAutoplayTime = (on && _self.autoplayTime > 0) ? _self.autoplayTime : 0;\n\t\t\t_self.slideshow.jmpress('settings').duration.defaultValue = newAutoplayTime;\n\n\t\t\t// Move to the next slide when activating autoplay\n\t\t\tif( newAutoplayTime ) {\n\t\t\t\t_self.slideshow.jmpress('next');\n\t\t\t\t_self.overlay.css('opacity', 0);\n\t\t\t} else {\n\t\t\t\t_self.slideshow.jmpress('reselect');\n\t\t\t}\n\n\t\t\t_self.autoPlaying = on;\n\t\t}\n\t});\n\n\t$( document ).ready( function(){\n\t\t$('.presentation-wrapper').map(function() {\n\t\t\tnew Presentation(this);\n\t\t});\n\t});\n\n})(jQuery);\n"]}