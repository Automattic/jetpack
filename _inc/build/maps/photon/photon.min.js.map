{"version":3,"sources":["photon/photon.js"],"names":["$","restore_dims","each","recalc","$this","this","complete","data","attr","load","width","height","reset_for_retina","img","removeAttr","document","ready","fn","body","on","delegate","jQuery"],"mappings":";;CAGA,SAAUA,GAIT,GAAIC,GAAe,WAClBD,EAAG,yBAA0BE,KAAM,QAASC,KAC3C,GAAIC,GAAQJ,EAAGK,KACf,IAAKA,KAAKC,SAAW,CAKpB,GAAKF,EAAMG,KAAM,aAAgBH,EAAMI,KAAM,SAAYJ,EAAMG,KAAM,YAEpE,WADAH,GAAMK,KAAMN,EAIb,IAAIO,GAAQL,KAAKK,MAChBC,EAASN,KAAKM,MAEVD,IAASA,EAAQ,GAAKC,GAAUA,EAAS,IAC7CP,EAAMI,MACLE,MAAOA,EACPC,OAAQA,IAGTC,EAAkBP,WAInBD,GAAMK,KAAMN,MAQfS,EAAmB,SAAUC,GAC5Bb,EAAGa,GAAMC,WAAY,oBAAqBA,WAAY,SAMvDd,GAAGe,UAAWC,MAAOf,GAEhB,MAAQD,GAAEiB,GACdjB,EAAGe,SAASG,MAAOC,GAAI,YAAalB,GAEpCD,EAAGe,UAAWK,SAAU,OAAQ,YAAanB,IAE5CoB","file":"../../photon/photon.min.js","sourcesContent":["/* Do not modify this file directly. It is compiled from other files. */\n/* jshint onevar: false */\n\n(function($){\n\t/**\n\t * For images lacking explicit dimensions and needing them, try to add them.\n\t */\n\tvar restore_dims = function() {\n\t\t$( 'img[data-recalc-dims]' ).each( function recalc() {\n\t\t\tvar $this = $( this );\n\t\t\tif ( this.complete ) {\n\n\t\t\t\t// Support for lazy loading: if there is a lazy-src\n\t\t\t\t// attribute and it's value is not the same as the current src we\n\t\t\t\t// should wait until the image load event\n\t\t\t\tif ( $this.data( 'lazy-src' ) && $this.attr( 'src' ) !== $this.data( 'lazy-src' ) ) {\n\t\t\t\t\t$this.load( recalc );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar width = this.width,\n\t\t\t\t\theight = this.height;\n\n\t\t\t\tif ( width && width > 0 && height && height > 0 ) {\n\t\t\t\t\t$this.attr( {\n\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\theight: height\n\t\t\t\t\t} );\n\n\t\t\t\t\treset_for_retina( this );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t$this.load( recalc );\n\t\t\t}\n\t\t} );\n\t},\n\n\t/**\n\t * Modify given image's markup so that devicepx-jetpack.js will act on the image and it won't be reprocessed by this script.\n\t */\n\treset_for_retina = function( img ) {\n\t\t$( img ).removeAttr( 'data-recalc-dims' ).removeAttr( 'scale' );\n\t};\n\n\t/**\n\t * Check both when page loads, and when IS is triggered.\n\t */\n\t$( document ).ready( restore_dims );\n\n\tif ( 'on' in $.fn ) {\n\t\t$( document.body ).on( 'post-load', restore_dims );\n\t} else {\n\t\t$( document ).delegate( 'body', 'post-load', restore_dims );\n\t}\n})(jQuery);\n"]}