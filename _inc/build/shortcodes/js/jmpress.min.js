/* Do not modify this file directly. It is compiled from other files. */
/**
 * jmpress.js v0.4.5
 * http://jmpressjs.github.com/jmpress.js
 *
 * A jQuery plugin to build a website on the infinite canvas.
 *
 * Copyright 2013 Kyle Robinson Young @shama & Tobias Koppers @sokra
 * Licensed MIT
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Based on the foundation laid by Bartek Szopka @bartaz
 */
!function(e,t,s,a){"use strict";var r,n,i,o=(r=t.createElement("dummy").style,n="Webkit Moz O ms Khtml".split(" "),i={},function(e){if(void 0===i[e]){var t=e.charAt(0).toUpperCase()+e.substr(1),s=(e+" "+n.join(t+" ")+t).split(" ");for(var o in i[e]=null,s)if(r[s[o]]!==a){i[e]=s[o];break}}return i[e]});function c(e){if(e){var t=1+e.substr(1).search(/[A-Z]/);return"-"+e.substr(0,t).toLowerCase()+"-"+e.substr(t).toLowerCase()}}function l(e){return e?e+",":""}function u(e){return e.length>0?e:null}var p={stepSelector:".step",containerClass:"",canvasClass:"",areaClass:"",notSupportedClass:"not-supported",fullscreen:!0,animation:{transformOrigin:"top left",transitionProperty:l(c(o("transform")))+l(c(o("perspective")))+"opacity",transitionDuration:"1s",transitionDelay:"500ms",transitionTimingFunction:"ease-in-out",transformStyle:"preserve-3d"},transitionDuration:1500},f={beforeChange:1,beforeInitStep:1,initStep:1,beforeInit:1,afterInit:1,beforeDeinit:1,afterDeinit:1,applyStep:1,unapplyStep:1,setInactive:1,beforeActive:1,setActive:1,selectInitialStep:1,selectPrev:1,selectNext:1,selectHome:1,selectEnd:1,idle:1,applyTarget:1};for(var d in f)p[d]=[];function m(r){r=e.extend(!0,{},r||{});var n={},i=null;for(i in f)n[i]=e.isFunction(r[i])?[r[i]]:r[i],r[i]=[];var o=e.extend(!0,{},p,r);for(i in f)n[i]&&Array.prototype.push.apply(o[i],n[i]);var c=e(this),l=null,d=null,m={container:"",area:""},g=null,b=null,y=!1,j=null,D=!1;function S(t,s){var a=v(t),r={oldStyle:e(t).attr("style")||""},n={data:a,stepData:r};x.call(this,"beforeInitStep",e(t),n),r.delegate=a.delegate,x.call(this,"initStep",e(t),n),e(t).data("stepData",r),e(t).attr("id")||e(t).attr("id","step-"+(s+1)),x.call(this,"applyStep",e(t),n)}function w(t){var s=e(t).data("stepData");e(t).attr("style",s.oldStyle),x.call(this,"unapplyStep",e(t),{stepData:s})}function x(t,s,a){a.settings=o,a.current=b,a.container=l,a.parents=s?e(s).parentsUntil(c).not(c).filter(o.stepSelector):null,a.current=b,a.jmpress=this;var r={};return e.each(o[t],function(e,t){r.value=t.call(c,s,a)||r.value}),r.value}function C(t,s){var r;if(e.isPlainObject(t)&&(r=t.substep,t=t.step),"string"==typeof t&&(t=c.find(t).first()),!t||!e(t).data("stepData"))return!1;T.call(this);var n=e(t).data("stepData"),i=!1;if(x.call(this,"beforeChange",t,{stepData:n,reason:s,cancel:function(){i=!0}}),i)return a;var l={},p=t;e(t).data("stepData").delegate&&((p=u(e(t).parentsUntil(c).filter(o.stepSelector).filter(n.delegate))||u(e(t).near(n.delegate))||u(e(t).near(n.delegate,!0))||u(e(n.delegate,c)))?n=p.data("stepData"):p=t),D&&x.call(this,"setInactive",D,{stepData:e(D).data("stepData"),delegatedFrom:y,reason:s,target:l,nextStep:p,nextSubstep:r,nextStepData:n});var f={stepData:n,delegatedFrom:t,reason:s,target:l,substep:r,prevStep:D,prevSubstep:j,prevStepData:D&&e(D).data("stepData")};return x.call(this,"beforeActive",p,f),x.call(this,"setActive",p,f),b.jmpressClass&&e(c).removeClass(b.jmpressClass),e(c).addClass(b.jmpressClass="step-"+e(p).attr("id")),b.jmpressDelegatedClass&&e(c).removeClass(b.jmpressDelegatedClass),e(c).addClass(b.jmpressDelegatedClass="delegating-step-"+e(t).attr("id")),x.call(this,"applyTarget",p,e.extend({canvas:g,area:d,beforeActive:D},f)),y=t,j=f.substep,D=p,b.idleTimeout&&clearTimeout(b.idleTimeout),b.idleTimeout=setTimeout(function(){x.call(this,"idle",p,f)},Math.max(1,o.transitionDuration-100)),p}function T(){!function t(){if("BODY"===e(l)[0].tagName)try{s.scrollTo(0,0)}catch(e){}function a(){0===e(l).scrollTop()&&0===e(l).scrollLeft()||t()}e(l).scrollTop(0),e(l).scrollLeft(0),setTimeout(a,1),setTimeout(a,10),setTimeout(a,100),setTimeout(a,200),setTimeout(a,400)}()}if(c.data("jmpressmethods",{select:C,reselect:function(e){return C({step:y,substep:j},e)},scrollFix:T,goTo:function(e){return C.call(this,e,"jump")},next:function(){return C.call(this,x.call(this,"selectNext",y,{stepData:e(y).data("stepData"),substep:j}),"next")},prev:function(){return C.call(this,x.call(this,"selectPrev",y,{stepData:e(y).data("stepData"),substep:j}),"prev")},home:function(){return C.call(this,x.call(this,"selectHome",y,{stepData:e(y).data("stepData")}),"home")},end:function(){return C.call(this,x.call(this,"selectEnd",y,{stepData:e(y).data("stepData")}),"end")},canvas:function(t){return h(g,t||{}),e(g)},container:function(){return l},settings:function(){return o},active:function(){return D&&e(D)},current:function(){return b},fire:function(t,s,a){if(f[t])return x.call(this,t,s,a);e.error("callback "+t+" is not registered.")},init:function(t){S.call(this,e(t),b.nextIdNumber++)},deinit:function(t){t?w.call(this,e(t)):function(){y&&x.call(this,"setInactive",y,{stepData:e(y).data("stepData"),reason:"deinit"}),b.jmpressClass&&e(c).removeClass(b.jmpressClass),x.call(this,"beforeDeinit",e(this),{}),e(o.stepSelector,c).each(function(e){w.call(c,this)}),l.attr("style",m.container),o.fullscreen&&e("html").attr("style",""),d.attr("style",m.area),e(g).children().each(function(){c.append(e(this))}),o.fullscreen?g.remove():(g.remove(),d.remove()),x.call(this,"afterDeinit",e(this),{}),e(c).data("jmpressmethods",!1)}.call(this)},reapply:function(t){x.call(this,"unapplyStep",e(t),{stepData:t.data("stepData")}),x.call(this,"applyStep",e(t),{stepData:t.data("stepData")})}}),!1!=(-1===(P=navigator.userAgent.toLowerCase()).search(/(iphone)|(ipod)|(android)/)||-1!==P.search(/(chrome)/))){var P;o.notSupportedClass&&c.removeClass(o.notSupportedClass);var M=e(o.stepSelector,c);l=c,d=e("<div />"),g=e("<div />"),e(c).children().filter(M).each(function(){g.append(e(this))}),o.fullscreen&&(l=e("body"),e("html").css({overflow:"hidden"}),d=c),m.area=d.attr("style")||"",m.container=l.attr("style")||"",o.fullscreen?(l.css({height:"100%"}),c.append(g)):(l.css({position:"relative"}),d.append(g),c.append(d)),e(l).addClass(o.containerClass),e(d).addClass(o.areaClass),e(g).addClass(o.canvasClass),t.documentElement.style.height="100%",l.css({overflow:"hidden"});var A={position:"absolute",transitionDuration:"0s"};A=e.extend({},o.animation,A),h(d,A),h(d,{top:"50%",left:"50%",perspective:"1000px"}),h(g,A),b={},x.call(this,"beforeInit",null,{}),M.each(function(e){S.call(c,this,e)}),b.nextIdNumber=M.length,x.call(this,"afterInit",null,{}),C.call(this,x.call(this,"selectInitialStep","init",{})),o.initClass&&e(M).removeClass(o.initClass)}else o.notSupportedClass&&c.addClass(o.notSupportedClass)}function h(t,s){var a,r,n={};for(a in s)s.hasOwnProperty(a)&&null!==(r=o(a))&&(n[r]=s[a]);return e(t).css(n),t}function v(t){if(e(t)[0].dataset)return e.extend({},e(t)[0].dataset);var s={},a=e(t)[0].attributes;return e.each(a,function(e,t){"data-"===t.nodeName.substr(0,5)&&(s[function(e){e=e.split("-");for(var t=1;t<e.length;t++)e[t]=e[t].substr(0,1).toUpperCase()+e[t].substr(1);return e.join("")}(t.nodeName.substr(5))]=t.nodeValue)}),s}var g={init:m,initialized:function(){return!!e(this).data("jmpressmethods")},deinit:function(){},css:h,pfx:o,defaults:function(){return p},register:function(t,s){e.isFunction(s)?g[t]?e.error("function "+t+" is already registered."):g[t]=s:f[t]?e.error("callback "+t+" is already registered."):(f[t]=1,p[t]=[])},dataset:v};e.fn.jmpress=function(t){var s,a=arguments;return e(this).each(function(r,n){s=function(){var s=e(this).data("jmpressmethods");if(s&&s[t])return s[t].apply(this,Array.prototype.slice.call(arguments,1));if(g[t])return g[t].apply(this,Array.prototype.slice.call(arguments,1));if(f[t]&&s){var a=s.settings(),r=Array.prototype.slice.call(arguments,1)[0];e.isFunction(r)&&(a[t]=a[t]||[],a[t].push(r))}else{if("object"==typeof t||!t)return m.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.jmpress")}return this}.apply(n,a)}),s},e.extend({jmpress:function(t){if(g[t])return g[t].apply(this,Array.prototype.slice.call(arguments,1));if(f[t]){var s=Array.prototype.slice.call(arguments,1)[0];e.isFunction(s)?p[t].push(s):e.error("Second parameter should be a function: $.jmpress( callbackName, callbackFunction )")}else e.error("Method "+t+" does not exist on jQuery.jmpress")}})}(jQuery,document,window),function(e,t,s,a){"use strict";function r(t,s,a,r){var n;return t.each(function(t,i){return(!r||!(n=s(i,a,r)))&&(e(i).is(a)?(n=i,!1):!(!r&&(n=s(i,a,r)))&&void 0)}),n}function n(t,s,a){var i=e(t).children();return a&&(i=e(i.get().reverse())),r(i,n,s,a)}function i(t,s,a){return r(e(t)[a?"prevAll":"nextAll"](),n,s,a)}e.fn.near=function(t,s){var a=[];return e(this).each(function(r,o){var c=!s&&n(o,t,s)||i(o,t,s)||function(t,s,a){var r,n=e(t).parents();return n=e(n.get()),e.each(n.get(),function(t,n){return a&&e(n).is(s)?(r=n,!1):!(r=i(n,s,a))&&void 0}),r}(o,t,s);c&&a.push(c)}),e(a)}}(jQuery,document,window),function(e,t,s,a){"use strict";function r(e){return Math.round(1e4*e)/1e4+""}var n={3:{transform:function(t,s){var a="translate(-50%,-50%)";e.each(s,function(e,t){var s,n=["X","Y","Z"];if("translate"===t[0])a+=" translate3d("+r(t[1]||0)+"px,"+r(t[2]||0)+"px,"+r(t[3]||0)+"px)";else if("rotate"===t[0]){var i=t[4]?[1,2,3]:[3,2,1];for(s=0;s<3;s++)a+=" rotate"+n[i[s]-1]+"("+r(t[i[s]]||0)+"deg)"}else if("scale"===t[0])for(s=0;s<3;s++)a+=" scale"+n[s]+"("+r(t[s+1]||1)+")"}),e.jmpress("css",t,e.extend({},{transform:a}))}},2:{transform:function(t,s){var a="translate(-50%,-50%)";e.each(s,function(e,t){var s=["X","Y"];if("translate"===t[0])a+=" translate("+r(t[1]||0)+"px,"+r(t[2]||0)+"px)";else if("rotate"===t[0])a+=" rotate("+r(t[3]||0)+"deg)";else if("scale"===t[0])for(var n=0;n<2;n++)a+=" scale"+s[n]+"("+r(t[n+1]||1)+")"}),e.jmpress("css",t,e.extend({},{transform:a}))}},1:{transform:function(t,s){var a={top:0,left:0};e.each(s,function(e,t){"translate"===t[0]&&(a.left=Math.round(t[1]||0)+"px",a.top=Math.round(t[2]||0)+"px")}),t.animate(a,1e3)}}},i=e.jmpress("pfx","perspective")?n[3]:e.jmpress("pfx","transform")?n[2]:n[1];e.jmpress("defaults").reasonableAnimation={},e.jmpress("initStep",function(t,s){var a=s.data,r=s.stepData,n=parseFloat;e.extend(r,{x:n(a.x)||0,y:n(a.y)||0,z:n(a.z)||0,r:n(a.r)||0,phi:n(a.phi)||0,rotate:n(a.rotate)||0,rotateX:n(a.rotateX)||0,rotateY:n(a.rotateY)||0,rotateZ:n(a.rotateZ)||0,revertRotate:!1,scale:n(a.scale)||1,scaleX:n(a.scaleX)||!1,scaleY:n(a.scaleY)||!1,scaleZ:n(a.scaleZ)||1})}),e.jmpress("afterInit",function(t,s){var a=s.settings.stepSelector,r=s.current;r.perspectiveScale=1,r.maxNestedDepth=0;for(var n=e(s.jmpress).find(a).children(a);n.length;)r.maxNestedDepth++,n=n.children(a)}),e.jmpress("applyStep",function(t,s){e.jmpress("css",e(t),{position:"absolute",transformStyle:"preserve-3d"}),s.parents.length>0&&e.jmpress("css",e(t),{top:"50%",left:"50%"});var a=s.stepData,r=[["translate",a.x||a.r*Math.sin(a.phi*Math.PI/180),a.y||-a.r*Math.cos(a.phi*Math.PI/180),a.z],["rotate",a.rotateX,a.rotateY,a.rotateZ||a.rotate,!0],["scale",a.scaleX||a.scale,a.scaleY||a.scale,a.scaleZ||a.scale]];i.transform(t,r)}),e.jmpress("setActive",function(t,s){var r=s.target,n=s.stepData,i=r.transform=[];r.perspectiveScale=1;for(var o=s.current.maxNestedDepth;o>(s.parents.length||0);o--)i.push(["scale"],["rotate"],["translate"]);i.push(["scale",1/(n.scaleX||n.scale),1/(n.scaleY||n.scale),1/n.scaleZ]),i.push(["rotate",-n.rotateX,-n.rotateY,-(n.rotateZ||n.rotate)]),i.push(["translate",-(n.x||n.r*Math.sin(n.phi*Math.PI/180)),-(n.y||-n.r*Math.cos(n.phi*Math.PI/180)),-n.z]),r.perspectiveScale*=n.scaleX||n.scale,e.each(s.parents,function(t,s){var a=e(s).data("stepData");i.push(["scale",1/(a.scaleX||a.scale),1/(a.scaleY||a.scale),1/a.scaleZ]),i.push(["rotate",-a.rotateX,-a.rotateY,-(a.rotateZ||a.rotate)]),i.push(["translate",-(a.x||a.r*Math.sin(a.phi*Math.PI/180)),-(a.y||-a.r*Math.cos(a.phi*Math.PI/180)),-a.z]),r.perspectiveScale*=a.scaleX||a.scale}),e.each(i,function(e,t){function r(r){s.current["rotate"+r+"-"+e]===a&&(s.current["rotate"+r+"-"+e]=t[r]||0);var n=s.current["rotate"+r+"-"+e],i=n%360,o=(t[r]||0)%360;i<0&&(i+=360),o<0&&(o+=360);var c=o-i;c<-180?c+=360:c>180&&(c-=360),s.current["rotate"+r+"-"+e]=t[r]=n+c}"rotate"===t[0]&&(r(1),r(2),r(3))})}),e.jmpress("applyTarget",function(t,s){var a,r=s.target,n=(s.stepData,s.settings),o=1.3*r.perspectiveScale<s.current.perspectiveScale,c=r.perspectiveScale>1.3*s.current.perspectiveScale,l=-1;e.each(r.transform,function(e,t){if(!(t.length<=1||"rotate"===t[0]&&t[1]%360==0&&t[2]%360==0&&t[3]%360==0))return"scale"===t[0]&&void(l=e)}),l!==s.current.oldLastScale&&(o=c=!1,s.current.oldLastScale=l);var u=[];if(-1!==l)for(;l>=0;)"scale"===r.transform[l][0]&&(u.push(r.transform[l]),r.transform[l]=["scale"]),l--;var p=n.animation;n.reasonableAnimation[s.reason]&&(p=e.extend({},p,n.reasonableAnimation[s.reason])),a={perspective:Math.round(1e3*r.perspectiveScale)+"px"},a=e.extend({},p,a),o||(a.transitionDelay="0s"),s.beforeActive||(a.transitionDuration="0s",a.transitionDelay="0s"),e.jmpress("css",s.area,a),i.transform(s.area,u),a=e.extend({},p),c||(a.transitionDelay="0s"),s.beforeActive||(a.transitionDuration="0s",a.transitionDelay="0s"),s.current.perspectiveScale=r.perspectiveScale,e.jmpress("css",s.canvas,a),i.transform(s.canvas,r.transform)})}(jQuery,document,window),function(e,t,s,a){"use strict";var r=e.jmpress,n=r("defaults");n.nestedActiveClass="nested-active",n.activeClass="active",r("setInactive",function(t,s){var a=s.settings,r=a.activeClass,n=a.nestedActiveClass;r&&e(t).removeClass(r),n&&e.each(s.parents,function(t,s){e(s).removeClass(n)})}),r("setActive",function(t,s){var a=s.settings,r=a.activeClass,n=a.nestedActiveClass;r&&e(t).addClass(r),n&&e.each(s.parents,function(t,s){e(s).addClass(n)})})}(jQuery,document,window),function(e,t,s,a){"use strict";var r=e.jmpress;function n(t,s){return e(this).find(s.settings.stepSelector).first()}function i(t,s,a,r){if(!s)return!1;var n=a.settings.stepSelector;s=e(s);do{var i=s.near(n,r);if(0!==i.length&&0!==i.closest(t).length||(i=e(t).find(n)[r?"last":"first"]()),!i.length)return!1;s=i}while(s.data("stepData").exclude);return s}r("initStep",function(e,t){t.stepData.exclude=t.data.exclude&&-1===["false","no"].indexOf(t.data.exclude)}),r("selectInitialStep",n),r("selectHome",n),r("selectEnd",function(t,s){return e(this).find(s.settings.stepSelector).last()}),r("selectPrev",function(e,t){return i(this,e,t,!0)}),r("selectNext",function(e,t){return i(this,e,t)})}(jQuery,document,window),function(e,t,s,a){"use strict";e.jmpress("selectInitialStep",function(e,t){return t.settings.start})}(jQuery,document,window),function(e,t,s,a){"use strict";var r=e.jmpress;function n(t,s,a){for(var r=0;r<s.length-1;r++){var n=s[r],i=s[r+1];e(t).jmpress("initialized")?e(n,t).data("stepData")[a]=i:e(n,t).attr("data-"+a,i)}}function i(t,s,a,r){var n=s.stepData;if(n[a]){var i=e(t).near(n[a],r);if(i&&i.length)return i;if((i=e(n[a],this)[r?"last":"first"]())&&i.length)return i}}r("register","route",function(e,t,s){"string"==typeof e&&(e=[e,e]),n(this,e,s?"prev":"next"),t||n(this,e.reverse(),s?"next":"prev")}),r("initStep",function(e,t){for(var s in{next:1,prev:1})t.stepData[s]=t.data[s]}),r("selectNext",function(e,t){return i.call(this,e,t,"next")}),r("selectPrev",function(e,t){return i.call(this,e,t,"prev",!0)})}(jQuery,document,window),function(e,t,s,a){"use strict";var r=e.jmpress,n="ajax:loadStep";r("register",n),r("register","ajax:afterStepLoaded"),r("defaults").ajaxLoadedClass="loaded",r("initStep",function(t,s){s.stepData.src=e(t).attr("href")||s.data.src||!1,s.stepData.srcLoaded=!1}),r(n,function(t,s){var a=s.stepData,r=a&&a.src,n=s.settings;r&&(e(t).addClass(n.ajaxLoadedClass),a.srcLoaded=!0,e(t).load(r,function(a,r,n){e(s.jmpress).jmpress("fire","ajax:afterStepLoaded",t,e.extend({},s,{response:a,status:r,xhr:n}))}))}),r("idle",function(t,s){if(t){var a=s.settings,r=e(this);s.stepData;e(t).add(e(t).near(a.stepSelector)).add(e(t).near(a.stepSelector,!0)).add(r.jmpress("fire","selectPrev",t,{stepData:e(t).data("stepData")})).add(r.jmpress("fire","selectNext",t,{stepData:e(t).data("stepData")})).each(function(){var t=e(this).data("stepData");t.src&&!t.srcLoaded&&r.jmpress("fire",n,this,{stepData:e(this).data("stepData")})})}}),r("setActive",function(t,s){var a=e(t).data("stepData");a.src&&!a.srcLoaded&&e(this).jmpress("fire",n,t,{stepData:e(t).data("stepData")})})}(jQuery,document,window),function(e,t,s,a){"use strict";var r=e.jmpress;function n(t){try{var r=e("#"+s.location.hash.replace(/^#\/?/,""));return r.length>0&&r.is(t.stepSelector)?r:a}catch(e){}}function i(e){var t="#/"+e;s.history&&s.history.pushState?s.location.hash!==t&&s.history.pushState({},"",t):s.location.hash!==t&&(s.location.hash=t)}r("defaults").hash={use:!0,update:!0,bindChange:!0},r("selectInitialStep",function(t,a){var r=a.settings,o=r.hash,c=a.current,l=e(this);if(a.current.hashNamespace=".jmpress-"+Math.round(1e5*Math.random(),0),o.use)return o.bindChange&&(e(s).bind("hashchange"+c.hashNamespace,function(e){var t=n(r);l.jmpress("initialized")&&l.jmpress("scrollFix"),t&&t.length&&(t.attr("id")!==l.jmpress("active").attr("id")&&l.jmpress("select",t),i(t.attr("id"))),e.preventDefault()}),e("a[href^='#']").on("click"+c.hashNamespace,function(t){var s=e(this).attr("href");try{e(s).is(r.stepSelector)&&(l.jmpress("select",s),t.preventDefault(),t.stopPropagation())}catch(e){}})),n(r)}),r("afterDeinit",function(t,a){e("a[href^='#']").off(a.current.hashNamespace),e(s).unbind(a.current.hashNamespace)}),r("setActive",function(t,s){var a=s.settings,r=s.current;a.hash.use&&a.hash.update&&(clearTimeout(r.hashtimeout),r.hashtimeout=setTimeout(function(){i(e(s.delegatedFrom).attr("id"))},a.transitionDuration+200))})}(jQuery,document,window),function(e,t,s,a){"use strict";var r=e.jmpress;function n(e){e.preventDefault(),e.stopPropagation()}r("defaults").keyboard={use:!0,keys:{33:"prev",37:"prev",38:"prev",9:"next:prev",32:"next",34:"next",39:"next",40:"next",36:"home",35:"end"},ignore:{INPUT:[32,37,38,39,40],TEXTAREA:[32,37,38,39,40],SELECT:[38,40]},tabSelector:"a[href]:visible, :input:visible"},r("afterInit",function(s,a){var r=a.settings,i=r.keyboard,o=i.ignore,c=a.current,l=e(this);r.fullscreen||l.attr("tabindex",0),c.keyboardNamespace=".jmpress-"+Math.round(1e5*Math.random(),0),e(r.fullscreen?t:l).bind("keypress"+c.keyboardNamespace,function(e){for(var t in o)if(e.target.nodeName===t&&-1!==o[t].indexOf(e.which))return;(e.which>=37&&e.which<=40||32===e.which)&&n(e)}),e(r.fullscreen?t:l).bind("keydown"+c.keyboardNamespace,function(t){var s=e(t.target);if((r.fullscreen||s.closest(l).length)&&i.use){for(var a in o)if(s[0].nodeName===a&&-1!==o[a].indexOf(t.which))return;var c,u=!1;if(9===t.which){if(s.closest(l.jmpress("active")).length?(c=s.near(i.tabSelector,t.shiftKey),e(c).closest(r.stepSelector).is(l.jmpress("active"))||(c=void 0)):t.shiftKey?u=!0:c=l.jmpress("active").find("a[href], :input").filter(":visible").first(),c&&c.length>0)return c.focus(),l.jmpress("scrollFix"),void n(t);t.shiftKey&&(u=!0)}var p=i.keys[t.which];"string"==typeof p?(-1!==p.indexOf(":")&&(p=p.split(":"),p=t.shiftKey?p[1]:p[0]),l.jmpress(p),n(t)):e.isFunction(p)?p.call(l,t):p&&(l.jmpress.apply(l,p),n(t)),u&&((c=l.jmpress("active").find("a[href], :input").filter(":visible").last()).focus(),l.jmpress("scrollFix"))}})}),r("afterDeinit",function(s,a){e(t).unbind(a.current.keyboardNamespace)})}(jQuery,document,window),function(e,t,s,a){"use strict";var r,n=(r=navigator.userAgent.toLowerCase(),(/(chrome)[ \/]([\w.]+)/.exec(r)||/(webkit)[ \/]([\w.]+)/.exec(r)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(r)||/(msie) ([\w.]+)/.exec(r)||r.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(r)||[])[1]||""),i=e.jmpress("defaults");i.viewPort={width:!1,height:!1,maxScale:0,minScale:0,zoomable:0,zoomBindMove:!0,zoomBindWheel:!0};var o=i.keyboard.keys;function c(e,t){return Math.max(Math.min(e,t),-t)}function l(t,s,a){var r=e(this).jmpress("current"),n=e(this).jmpress("settings"),i=e(this).jmpress("active").data("stepData"),o=e(this).jmpress("container");if(!(0===r.userZoom&&a<0)){var l=i.viewPortZoomable||n.viewPort.zoomable;if(!(r.userZoom===l&&a>0)){r.userZoom+=a;var u=e(o).innerWidth()/2,p=e(o).innerHeight()/2;t=t?t-u:t,s=s?s-p:s,r.userTranslateX=c(r.userTranslateX-a*t/r.zoomOriginWindowScale/l,u*r.userZoom*r.userZoom/l),r.userTranslateY=c(r.userTranslateY-a*s/r.zoomOriginWindowScale/l,p*r.userZoom*r.userZoom/l),e(this).jmpress("reselect","zoom")}}}o["mozilla"===n?107:187]="zoomIn",o["mozilla"===n?109:189]="zoomOut",i.reasonableAnimation.resize={transitionDuration:"0s",transitionDelay:"0ms"},i.reasonableAnimation.zoom={transitionDuration:"0s",transitionDelay:"0ms"},e.jmpress("initStep",function(e,t){for(var s in{viewPortHeight:1,viewPortWidth:1,viewPortMinScale:1,viewPortMaxScale:1,viewPortZoomable:1})t.stepData[s]=t.data[s]&&parseFloat(t.data[s])}),e.jmpress("afterInit",function(a,r){var n=this;r.current.viewPortNamespace=".jmpress-"+Math.round(1e5*Math.random(),0),e(s).bind("resize"+r.current.viewPortNamespace,function(t){e(n).jmpress("reselect","resize")}),r.current.userZoom=0,r.current.userTranslateX=0,r.current.userTranslateY=0,r.settings.viewPort.zoomBindWheel&&e(r.settings.fullscreen?t:this).bind("mousewheel"+r.current.viewPortNamespace+" DOMMouseScroll"+r.current.viewPortNamespace,function(t,s){var a=(s=s||t.originalEvent.wheelDelta||-t.originalEvent.detail)/Math.abs(s);return a<0?e(r.jmpress).jmpress("zoomOut",t.originalEvent.x,t.originalEvent.y):a>0&&e(r.jmpress).jmpress("zoomIn",t.originalEvent.x,t.originalEvent.y),!1}),r.settings.viewPort.zoomBindMove&&e(r.settings.fullscreen?t:this).bind("mousedown"+r.current.viewPortNamespace,function(e){r.current.userZoom&&(r.current.userTranslating={x:e.clientX,y:e.clientY},e.preventDefault(),e.stopImmediatePropagation())}).bind("mousemove"+r.current.viewPortNamespace,function(t){var s=r.current.userTranslating;s&&(e(n).jmpress("zoomTranslate",t.clientX-s.x,t.clientY-s.y),s.x=t.clientX,s.y=t.clientY,t.preventDefault(),t.stopImmediatePropagation())}).bind("mouseup"+r.current.viewPortNamespace,function(e){r.current.userTranslating&&(r.current.userTranslating=void 0,e.preventDefault(),e.stopImmediatePropagation())})}),e.jmpress("register","zoomIn",function(e,t){l.call(this,e||0,t||0,1)}),e.jmpress("register","zoomOut",function(e,t){l.call(this,e||0,t||0,-1)}),e.jmpress("register","zoomTranslate",function(t,s){var a=e(this).jmpress("current"),r=e(this).jmpress("settings"),n=e(this).jmpress("active").data("stepData"),i=e(this).jmpress("container"),o=n.viewPortZoomable||r.viewPort.zoomable,l=e(i).innerWidth(),u=e(i).innerHeight();a.userTranslateX=c(a.userTranslateX+t/a.zoomOriginWindowScale,l*a.userZoom*a.userZoom/o),a.userTranslateY=c(a.userTranslateY+s/a.zoomOriginWindowScale,u*a.userZoom*a.userZoom/o),e(this).jmpress("reselect","zoom")}),e.jmpress("afterDeinit",function(a,r){e(r.settings.fullscreen?t:this).unbind(r.current.viewPortNamespace),e(s).unbind(r.current.viewPortNamespace)}),e.jmpress("setActive",function(t,s){var a=s.settings.viewPort,r=s.stepData.viewPortHeight||a.height,n=s.stepData.viewPortWidth||a.width,i=s.stepData.viewPortMaxScale||a.maxScale,o=s.stepData.viewPortMinScale||a.minScale,c=r&&e(s.container).innerHeight()/r,l=n&&e(s.container).innerWidth()/n,u=(l||c)&&Math.min(l||c,c||l);if(u){u=u||1,i&&(u=Math.min(u,i)),o&&(u=Math.max(u,o));var p=s.stepData.viewPortZoomable||s.settings.viewPort.zoomable;if(p){var f=1/u-1/i;u=1/(1/u-(f/=p)*s.current.userZoom)}s.target.transform.reverse(),s.current.userTranslateX&&s.current.userTranslateY?s.target.transform.push(["translate",s.current.userTranslateX,s.current.userTranslateY,0]):s.target.transform.push(["translate"]),s.target.transform.push(["scale",u,u,1]),s.target.transform.reverse(),s.target.perspectiveScale/=u}s.current.zoomOriginWindowScale=u}),e.jmpress("setInactive",function(t,s){s.nextStep&&t&&e(s.nextStep).attr("id")===e(t).attr("id")||(s.current.userZoom=0,s.current.userTranslateX=0,s.current.userTranslateY=0)})}(jQuery,document,window),function(e,t,s,a){"use strict";var r=e.jmpress;r("defaults").mouse={clickSelects:!0},r("afterInit",function(t,s){var a=s.settings,r=a.stepSelector,n=s.current,i=e(this);n.clickableStepsNamespace=".jmpress-"+Math.round(1e5*Math.random(),0),i.bind("click"+n.clickableStepsNamespace,function(t){if(a.mouse.clickSelects&&!n.userZoom){var s=e(t.target).closest(r);s.is(i.jmpress("active"))||s.length&&(i.jmpress("select",s[0],"click"),t.preventDefault(),t.stopPropagation())}})}),r("afterDeinit",function(t,s){e(this).unbind(s.current.clickableStepsNamespace)})}(jQuery,document,window),function(e,t,s,a){"use strict";var r=e.jmpress;r("afterInit",function(s,a){var r=a.settings,n=a.current,i=a.jmpress;n.mobileNamespace=".jmpress-"+Math.round(1e5*Math.random(),0);var o,c=[0,0];e(r.fullscreen?t:i).bind("touchstart"+n.mobileNamespace,function(e){o=e.originalEvent.touches[0],c=[o.pageX,o.pageY]}).bind("touchmove"+n.mobileNamespace,function(e){return o=e.originalEvent.touches[0],e.preventDefault(),!1}).bind("touchend"+n.mobileNamespace,function(t){var s=[o.pageX,o.pageY],a=[s[0]-c[0],s[1]-c[1]];if(Math.max(Math.abs(a[0]),Math.abs(a[1]))>50)return a=Math.abs(a[0])>Math.abs(a[1])?a[0]:a[1],e(i).jmpress(a>0?"prev":"next"),t.preventDefault(),!1})}),r("afterDeinit",function(s,a){var r=a.settings,n=a.current,i=a.jmpress;e(r.fullscreen?t:i).unbind(n.mobileNamespace)})}(jQuery,document,window),function(e,t,s,a){"use strict";var r=e.jmpress,n="_template_",i={};function o(t,s,r){for(var n in s){var i=n;r&&(i=r+i.substr(0,1).toUpperCase()+i.substr(1)),e.isPlainObject(s[n])?o(t,s[n],i):t[i]===a&&(t[i]=s[n])}}function c(t,s){e.isArray(s)?s.length<t.length?e.error("more nested steps than children in template"):t.each(function(t,a){var r=(a=e(a)).data(n)||{};o(r,s[t]),a.data(n,r)}):e.isFunction(s)&&t.each(function(a,r){var i=(r=e(r)).data(n)||{};o(i,s(a,r,t)),r.data(n,i)})}function l(e,t,s,a){s.children&&c(t.children(a.settings.stepSelector),s.children);!function(e,t){o(e,t)}(e,s)}r("beforeInitStep",function(t,s){t=e(t);var a=s.data,r=a.template,o=t.data("_applied_template_"),c=t.data(n);r&&e.each(r.split(" "),function(e,r){var n=i[r];l(a,t,n,s)}),o&&l(a,t,o,s),c&&(l(a,t,c,s),t.data(n,null),c.template&&e.each(c.template.split(" "),function(e,r){var n=i[r];l(a,t,n,s)}))}),r("beforeInit",function(t,s){var a=r("dataset",this).template,n=s.settings.stepSelector;if(a){var o=i[a];c(e(this).find(n).filter(function(){return!e(this).parent().is(n)}),o.children)}}),r("register","template",function(t,s){i[t]?i[t]=e.extend(!0,{},i[t],s):i[t]=e.extend(!0,{},s)}),r("register","apply",function(t,s){if(s)if(e.isArray(s))c(e(t),s);else{var a;a="string"==typeof s?i[s]:e.extend(!0,{},s),e(t).each(function(t,s){var r=(s=e(s)).data("_applied_template_")||{};o(r,a),s.data("_applied_template_",r)})}else{var r=e(this).jmpress("settings").stepSelector;c(e(this).find(r).filter(function(){return!e(this).parent().is(r)}),t)}})}(jQuery,document,window),function(e,t,s,a){"use strict";e.jmpress("setActive",function(t,s){s.prevStep!==t&&e(t).triggerHandler("enterStep")}),e.jmpress("setInactive",function(t,s){s.nextStep!==t&&e(t).triggerHandler("leaveStep")})}(jQuery,document,window),function(e,t,s,a){"use strict";function r(t,s,a,r){r=r||t.length-1;for(var n=a=a||0;n<r+1;n++)if(e(t[n].element).is(s))return n}function n(t,s,a){e.each(s._on,function(e,s){t.push({substep:s.substep,delay:s.delay+a}),n(t,s.substep,s.delay+a)})}e.jmpress("defaults").customAnimationDataAttribute="jmpress",e.jmpress("afterInit",function(e,t){t.current.animationTimeouts=[],t.current.animationCleanupWaiting=[]}),e.jmpress("applyStep",function(t,s){var a={},i=[];if(e(t).find("[data-"+s.settings.customAnimationDataAttribute+"]").each(function(a,r){e(r).closest(s.settings.stepSelector).is(t)&&i.push({element:r})}),0!==i.length){e.each(i,function(t,a){a.info=function(t){for(var s=t.split(" "),a=s[0],r={willClass:"will-"+a,doClass:"do-"+a,hasClass:"has-"+a},n="",i=1;i<s.length;i++){var o=s[i];switch(n){case"":"after"===o?n="after":e.warn("unknown keyword in '"+t+"'. '"+o+"' unknown.");break;case"after":if(o.match(/^[1-9][0-9]*m?s?/)){var c=parseFloat(o);-1!==o.indexOf("ms")?c*=1:-1!==o.indexOf("s")?c*=1e3:-1!==o.indexOf("m")&&(c*=6e4),r.delay=c}else r.after=Array.prototype.slice.call(s,i).join(" "),i=s.length}}return r}(e(a.element).data(s.settings.customAnimationDataAttribute)),e(a.element).addClass(a.info.willClass),a._on=[],a._after=null});var o={_after:void 0,_on:[],info:{}};if(e.each(i,function(e,t){var s=t.info.after;if(s)if("step"===s)s=o;else if("prev"===s)s=i[e-1];else{var a=r(i,s,0,e-1);void 0===a&&(a=r(i,s)),s=void 0===a||a===e?i[e-1]:i[a]}else s=i[e-1];if(s){if(!t.info.delay){if(!s._after)return void(s._after=t);s=s._after}s._on.push({substep:t,delay:t.info.delay||0})}}),void 0===o._after&&0===o._on.length){var c=r(i,s.stepData.startSubstep)||0;o._after=i[c]}var l=[];do{var u=[{substep:o,delay:0}];n(u,o,0),l.push(u),o=null,e.each(u,p)}while(o);a.list=l,e(t).data("substepsData",a)}function p(e,t){if(t.substep._after)return o=t.substep._after,!1}}),e.jmpress("unapplyStep",function(t,s){var a=e(t).data("substepsData");a&&e.each(a.list,function(t,s){e.each(s,function(t,s){s.substep.info.willClass&&e(s.substep.element).removeClass(s.substep.info.willClass),s.substep.info.hasClass&&e(s.substep.element).removeClass(s.substep.info.hasClass),s.substep.info.doClass&&e(s.substep.element).removeClass(s.substep.info.doClass)})})}),e.jmpress("setActive",function(t,s){var a=e(t).data("substepsData");if(a){void 0===s.substep&&(s.substep="prev"===s.reason?a.list.length-1:0);var r=s.substep;e.each(s.current.animationTimeouts,function(e,t){clearTimeout(t)}),s.current.animationTimeouts=[],e.each(a.list,function(t,a){var n=t<r,i=t<=r;e.each(a,function(t,a){a.substep.info.hasClass&&e(a.substep.element)[(n?"add":"remove")+"Class"](a.substep.info.hasClass),i&&!n&&a.delay&&"prev"!==s.reason?a.substep.info.doClass&&(e(a.substep.element).removeClass(a.substep.info.doClass),s.current.animationTimeouts.push(setTimeout(function(){e(a.substep.element).addClass(a.substep.info.doClass)},a.delay))):a.substep.info.doClass&&e(a.substep.element)[(i?"add":"remove")+"Class"](a.substep.info.doClass)})})}}),e.jmpress("setInactive",function(t,s){if(s.nextStep!==t){e.each(s.current.animationCleanupWaiting,function(t,s){var a;a=s,e.each(a.list,function(t,s){e.each(s,function(t,s){s.substep.info.hasClass&&e(s.substep.element).removeClass(s.substep.info.hasClass),s.substep.info.doClass&&e(s.substep.element).removeClass(s.substep.info.doClass)})})}),s.current.animationCleanupWaiting=[];var a=e(t).data("substepsData");a&&s.current.animationCleanupWaiting.push(a)}}),e.jmpress("selectNext",function(t,s){if(void 0!==s.substep){var a=e(t).data("substepsData");if(a)return s.substep<a.list.length-1?{step:t,substep:s.substep+1}:void 0}}),e.jmpress("selectPrev",function(t,s){if(void 0!==s.substep&&e(t).data("substepsData"))return s.substep>0?{step:t,substep:s.substep-1}:void 0})}(jQuery,document,window),
/*!
 * plugin for jmpress.js v0.4.5
 *
 * Copyright 2013 Kyle Robinson Young @shama & Tobias Koppers @sokra
 * Licensed MIT
 * http://www.opensource.org/licenses/mit-license.php
 */
function(e,t,s,a){"use strict";e.jmpress("register","toggle",function(s,a,r){var n=this;e(t).bind("keydown",function(t){t.keyCode===s&&(e(n).jmpress("initialized")?e(n).jmpress("deinit"):e(n).jmpress(a))}),r&&e(n).jmpress(a)})}(jQuery,document,window),function(e,t,s,a){"use strict";function r(t,s,a){if(t.secondary&&-1!==t.secondary.split(" ").indexOf(s)){for(var r in t)if(r.length>9&&0===r.indexOf("secondary")){var n=t[r],i=r.substr(9);i=i.substr(0,1).toLowerCase()+i.substr(1),t[r]=t[i],t[i]=n}e(this).jmpress("reapply",e(a))}}e.jmpress("initStep",function(e,t){for(var s in t.data)0===s.indexOf("secondary")&&(t.stepData[s]=t.data[s])}),e.jmpress("beforeActive",function(t,s){r.call(s.jmpress,e(t).data("stepData"),"self",t);var a=e(t).parent();e(a).children(s.settings.stepSelector).each(function(t,a){var n=e(a).data("stepData");r.call(s.jmpress,n,"siblings",a)});for(var n=1;n<s.parents.length;n++)e(s.parents[n]).children(s.settings.stepSelector).each()}),e.jmpress("setInactive",function(t,s){r.call(s.jmpress,e(t).data("stepData"),"self",t);var a=e(t).parent();function n(t,a){var n=e(a).data("stepData");r.call(s.jmpress,n,"grandchildren",a)}e(a).children(s.settings.stepSelector).each(function(t,a){var n=e(a).data("stepData");r.call(s.jmpress,n,"siblings",a)});for(var i=1;i<s.parents.length;i++)e(s.parents[i]).children(s.settings.stepSelector).each(n)})}(jQuery,document,window),function(e,t,s,a){"use strict";e.jmpress("defaults").duration={defaultValue:-1,defaultAction:"next",barSelector:void 0,barProperty:"width",barPropertyStart:"0",barPropertyEnd:"100%"},e.jmpress("initStep",function(e,t){t.stepData.duration=t.data.duration&&parseInt(t.data.duration,10),t.stepData.durationAction=t.data.durationAction}),e.jmpress("setInactive",function(t,s){var a=s.settings.duration,r=s.current;s.stepData.duration||a.defaultValue;if(r.durationTimeout){if(a.barSelector){var n={transitionProperty:a.barProperty,transitionDuration:"0",transitionDelay:"0",transitionTimingFunction:"linear"};n[a.barProperty]=a.barPropertyStart;var i=e(a.barSelector);e.jmpress("css",i,n),i.each(function(t,s){var a=e(s).next(),r=e(s).parent();e(s).detach(),a.length?a.insertBefore(s):r.append(s)})}clearTimeout(r.durationTimeout),delete r.durationTimeout}}),e.jmpress("setActive",function(t,s){var a=s.settings,r=a.duration,n=s.current,i=s.stepData.duration||r.defaultValue;if(i&&i>0){if(r.barSelector){var o={transitionProperty:r.barProperty,transitionDuration:i-2*a.transitionDuration/3-100+"ms",transitionDelay:2*a.transitionDuration/3+"ms",transitionTimingFunction:"linear"};o[r.barProperty]=r.barPropertyEnd,e.jmpress("css",e(r.barSelector),o)}var c=this;n.durationTimeout&&(clearTimeout(n.durationTimeout),n.durationTimeout=void 0),n.durationTimeout=setTimeout(function(){var t=s.stepData.durationAction||r.defaultAction;e(c).jmpress(t)},i)}})}(jQuery,document,window),function(e,t,s,a){"use strict";var r=e.jmpress,n="jmpress-presentation-";r("defaults").presentationMode={use:!0,url:"presentation-screen.html",notesUrl:!1,transferredValues:["userZoom","userTranslateX","userTranslateY"]},r("defaults").keyboard.keys[80]="presentationPopup",r("afterInit",function(t,a){var r=a.current;if(r.selectMessageListeners=[],a.settings.presentationMode.use){s.addEventListener("message",function(t){try{if("string"!=typeof t.data||0!==t.data.indexOf(n))return;var i=JSON.parse(t.data.slice(n.length));switch(i.type){case"select":e.each(a.settings.presentationMode.transferredValues,function(e,t){a.current[t]=i[t]}),/[a-z0-9\-]+/i.test(i.targetId)&&typeof i.substep in{number:1,undefined:1}?e(a.jmpress).jmpress("select",{step:"#"+i.targetId,substep:i.substep},i.reason):e.error("For security reasons the targetId must match /[a-z0-9\\-]+/i and substep must be a number.");break;case"listen":r.selectMessageListeners.push(t.source);break;case"ok":clearTimeout(r.presentationPopupTimeout);break;case"read":try{t.source.postMessage(n+JSON.stringify({type:"url",url:s.location.href,notesUrl:a.settings.presentationMode.notesUrl}),"*")}catch(t){e.error("Cannot post message to source: "+t)}break;default:throw"Unknown message type: "+i.type}}catch(t){e.error("Received message is malformed: "+t)}});try{s.parent&&s.parent!==s&&s.parent.postMessage(n+JSON.stringify({type:"afterInit"}),"*")}catch(t){e.error("Cannot post message to parent: "+t)}}}),r("afterDeinit",function(t,a){if(a.settings.presentationMode.use)try{s.parent&&s.parent!==s&&s.parent.postMessage(n+JSON.stringify({type:"afterDeinit"}),"*")}catch(t){e.error("Cannot post message to parent: "+t)}}),r("setActive",function(t,s){var a=e(s.delegatedFrom).attr("id"),r=s.substep,i=s.reason;e.each(s.current.selectMessageListeners,function(t,o){try{var c={type:"select",targetId:a,substep:r,reason:i};e.each(s.settings.presentationMode.transferredValues,function(e,t){c[t]=s.current[t]}),o.postMessage(n+JSON.stringify(c),"*")}catch(t){e.error("Cannot post message to listener: "+t)}})}),r("register","presentationPopup",function(){var t,a=e(this);a.jmpress("settings").presentationMode.use&&(t=s.open(e(this).jmpress("settings").presentationMode.url),a.jmpress("current").presentationPopupTimeout=setTimeout(function e(){a.jmpress("current").presentationPopupTimeout=setTimeout(e,100);try{t.postMessage(n+JSON.stringify({type:"url",url:s.location.href,notesUrl:a.jmpress("settings").presentationMode.notesUrl}),"*")}catch(e){}},100))})}(jQuery,document,window);