// This document contains styles that influence the styles of Stats & At a Glance, overall.
// For more precise styles, dig into the styles of each component. ie. dash-item
@import '../scss/calypso-colors';

.jp-at-a-glance {
	margin-bottom: rem( 48px );

	&__pinned-bundle {
		margin-bottom: 1rem;
	}
}

.jp-at-a-glance__stats-card {
	padding: 0;
}

.jp-at-a-glance__stats-empty {
	text-align: center;
	margin-bottom: 0;

	p {
		font-size: $font-body-small;
		color: $gray-text-min;
	}
}

.jp-at-a-glance__stats-inactive {
	padding: rem( 16px );

	@include breakpoint( '>660px' ) {
		display: flex;
		flex-wrap: nowrap;
		flex-direction: row;
		align-items: center;
	}
}

.jp-at-a-glance__stats-inactive-icon {
	@include breakpoint( '<660px' ) {
		display: none;
	}

	@include breakpoint( '>660px' ) {
		flex-basis: 10%;
	}
}

.jp-at-a-glance__stats-inactive-text {
	font-size: $font-body-small;
	line-height: 1.5;

	@include breakpoint( '<660px' ) {
		padding: 0 0 rem( 16px );
	}

	@include breakpoint( '>660px' ) {
		flex-basis: 50%;
		padding: 0 rem( 16px );
	}
}

.jp-at-a-glance__stats-inactive-button {
	text-align: left;

	@include breakpoint( '>660px' ) {
		flex-basis: 40%;
		text-align: right;
	}
}

.jp-at-a-glance__stats-chart {
	padding: rem( 16px );
	position: relative;
}

.jp-at-a-glance__stats-chart .components-spinner {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate( -50%, -50% );
}

.jp-at-a-glance__stats-bottom {
	margin: rem( 32px ) 0 0;

	@include breakpoint( '<480px' ) {
		box-shadow: 0 0 0 1px $light-gray-700;
	}
}

.jp-at-a-glance__stats-summary {
	text-align: center;
	border-bottom: 1px $light-gray-700 solid;

	@include breakpoint( '>660px' ) {
		flex-wrap: nowrap;
		display: flex;
		flex-direction: row;
	}
	@include breakpoint( '<660px' ) {
		display: block;
	}
}

.jp-at-a-glance__stats-summary-today,
.jp-at-a-glance__stats-summary-bestday {
	flex-basis: 25%;
	padding: rem( 16px );
	box-shadow: 0 0 0 1px $light-gray-700;
}

.jp-at-a-glance__stats-summary-today {
	@include breakpoint( '<660px' ) {
		margin-top: rem( -1px );
	}
}

.jp-at-a-glance__stats-summary-bestday {
	@include breakpoint( '>660px' ) {
		margin: 0 rem( 1px );
	}
}

.jp-at-a-glance__stats-summary-bestday,
.jp-at-a-glance__stats-summary-alltime {
	@include breakpoint( '<660px' ) {
		margin-top: rem( 1px );
	}
}

.jp-at-a-glance__stats-summary-alltime {
	flex-basis: 50%;
	padding: rem( 16px );
	box-shadow: 0 0 0 1px $light-gray-700;

	@include breakpoint( '>660px' ) {
		max-width: 50%; // for IE 10 since it doesn't recognize flex-basis
		display: flex;
		flex-grow: 1;
		flex-shrink: 1;
	}
}

.jp-at-a-glance__stats-alltime-views,
.jp-at-a-glance__stats-alltime-comments {
	flex-basis: 50%;
}

.jp-at-a-glance__stats-cta {
	padding: rem( 16px );
	background-color: lighten( $gray, 35% );

	@include breakpoint( '>660px' ) {
		display: flex;
		flex-direction: row;
		flex-wrap: nowrap;
		align-items: center;
	}
	@include breakpoint( '<660px' ) {
		display: block;
	}
}

.jp-at-a-glance__stats-cta-description {
	@include breakpoint( '>660px' ) {
		flex-basis: 30%;
	}
}

.jp-at-a-glance__stat-details {
	margin: 0;
	font-size: $font-body-small;
}

.jp-at-a-glance__stat-number {
	font-size: $font-title-medium;
	font-weight: 400;
	margin: rem( 8px ) 0;
}

.jp-at-a-glance__stats-ctas {
	display: flex;
	flex-direction: row;
	align-items: center;
	justify-content: flex-end;

	@include breakpoint( '>660px' ) {
		text-align: right;
		flex-basis: 70%;
	}

	@include breakpoint( '<660px' ) {
		text-align: center;
		flex-direction: column;

		.dops-button {
			width: 100%;
			margin-bottom: rem( 4px );
		}
	}

	.jp-at-a-glance__stats-ctas-wpcom-stats {
		margin-right: rem( 8px );
	}

	.dops-button {
		text-align: center;
		margin: rem( 4px );
	}
}

.jp-at-a-glance__stats-views {
	margin-top: 0;
	margin-bottom: 0;
}

.jp-at-a-glance__stats-view {
	display: inline-block;
	margin-top: 0;
	margin-bottom: 0;
	margin-left: rem( 16px );

	&:focus {
		outline: 0;
	}

	@include breakpoint( '<480px' ) {
		margin-left: 0;
		margin-right: rem( 16px );
	}
}

.jp-at-a-glance__stats-view-link,
.jp-at-a-glance__stats-view-link:visited {
	color: $gray;
	text-decoration: underline;

	&.is-current,
	&:visited.is-current,
	&:focus.is-current {
		color: #1d2327;
		text-decoration: none;
	}
}

.jp-at-a-glance__stats-view-link:focus {
	outline: 0;
	box-shadow: 0 0 0 1px #4f94d4, 0 0 2px 1px rgba( 30, 140, 190, 0.8 );
}

// heavy flexbox nesting below, careful! â€“ @jeffgolenski
.jp-at-a-glance__item-grid {
	display: flex;

	@include breakpoint( '<660px' ) {
		display: block; // don't need flexbox on smaller screens
	}
}

.jp-at-a-glance__left,
.jp-at-a-glance__right {
	display: flex;
	min-width: 0;

	@include breakpoint( '>660px' ) {
		flex-basis: 50%;
		margin-bottom: rem( 16px );
	}
	@include breakpoint( '<660px' ) {
		margin-bottom: rem( 12px );
	}

	> div, // Sorry. not sure how to class this. Thanks, React.
	.jp-dash-item {
		min-width: 0; // weird fix for overflowing items
		flex-grow: 1;
		display: flex;
		flex-direction: column;
	}
	> div {
		flex-basis: 100%;
	}
	.jp-dash-item {
		.dops-card {
			flex-grow: 1;
		}
		.dops-card.is-compact {
			flex-grow: 0;
			a.dops-notice__action {
				margin-left: 0;
				padding-left: 0;
				@include breakpoint( '<480px' ) {
					text-transform: none;
				}
			}
		}
	}
	.jp-dash-item__card {
		display: flex;
	}
}

.jp-search-config-aag {
	width: 100%;
}

.jp-at-a-glance__left {
	display: flex;

	@include breakpoint( '>660px' ) {
		margin-right: rem( 16px );

		&:last-child {
			flex-basis: calc( 50% - 0.5rem ); // rem function doesn't work in calc()
		}
	}
}
// end flexbox nesting

.dops-chart__tooltip .tip-arrow {
	display: none;
}

// Connection Settings
.jp-connection-type {
	.jp-dash-item__card {
		align-items: flex-start;
	}
}
.jp-connection-settings__info {
	display: flex;
}

.jp-connection-settings__actions {
	margin: 1em 0 0;

	a {
		cursor: pointer;
	}
}

.jp-connection-settings__text {
	margin-left: rem( 16px );
	word-break: break-word;
}
.jp-connection-settings__info {
	.gridicon {
		opacity: 0.6;
	}
	.gridicon,
	.jp-connection-settings__site-icon {
		background: #c8d7e1;
		color: #fff;
		min-width: rem( 64px );
	}
	.jp-connection-settings__gravatar {
		display: inline-block;
		min-width: rem( 64px );
		background: $gray;
		border-radius: 50%;
		margin-bottom: 0;
	}
}

.jp-connection-settings__username {
	font-weight: 600;
}

.jp-connection-settings__email {
	color: $gray;
	font-size: $font-body-small;
	font-style: italic;
	font-weight: 400;
}

.jp-connection-settings__modal.dops-modal {
	max-width: 635px;
	min-height: 400px;

	@include breakpoint( '>660px' ) {
		min-height: auto;
	}
}

.jp-connection-settings__modal-body {
	margin: 0;
	padding: rem( 24px ) rem( 32px );
	font-size: $font-body-small;
	color: $blue-dark-text;
	text-align: center;

	h2 {
		margin: rem( 32px ) 0 rem( 24px );
		font-size: $font-title-large;
		font-weight: 300;
		color: $blue-dark-text;
	}

	h4 {
		margin: rem( 16px ) rem( 24px ) 0;
		font-size: $font-body;
		font-weight: 400;
		line-height: 1.5em;
		color: $blue-heading;
	}

	p {
		font-size: $font-body-small;
	}

	ul {
		margin: rem( 24px ) 0 rem( 36px );
		color: $blue-text;
	}

	li {
		position: relative;
		display: block;
		margin: 0;
		padding: rem( 16px ) rem( 8px ) rem( 16px ) rem( 44px );
		border-bottom: 1px solid lighten( $gray, 25% );
		text-align: left;

		&:first-of-type {
			border-top: 1px solid lighten( $gray, 25% );
		}
	}

	.gridicon {
		position: absolute;
		left: rem( 16px );
		top: rem( 16px );
		vertical-align: text-bottom;
		color: $blue-text;
	}
}

.jp-connection-settings__modal-cancel {
	margin-right: 1em;
}

.jp-connection-settings__modal-more a {
	color: $blue-wordpress;
	text-decoration: underline;
}

.jp-dash-item__manage-in-wpcom {
	margin-top: 1px;
	width: 100%;
}

.jp-dash-item .dops-banner.dops-banner {
	width: 100%;
	margin-bottom: 0;
}

.jp-dash-item__videopress .jp-dash-item__card {
	flex-direction: column;
}

.jp-dash-item__videopress-storage {
	margin-top: 1em;
}

.jp-dash-item__action-links {
	display: flex;
	flex-wrap: wrap;
	gap: 8px 26px;
}
